module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(17),n(16),n(29);var r=to5Runtime.interopRequire(n(6)),o=to5Runtime.interopRequire(n(1));e.exports={component:r,render:function(e,t){o.render(o.createElement(r,t),e)}}},function(e){e.exports=require("react")},function(e){e.exports=require("react/addons")},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(2)),o=r.addons.classSet,i=r.createClass({displayName:"Button",getDefaultProps:function(){return{raised:!1,type:"button"}},getClassName:function(e){var t=o({"ars-button":!0,"ars-button-raised":this.props.raised});return o(e,t)},render:function(){var e=this.props.className,t=this.props.children,n=to5Runtime.objectWithoutProperties(this.props,["className","children"]);return r.createElement("button",r.__spread({className:this.getClassName(e)},n),t)}});e.exports=i},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(2)),o=r.addons.classSet,i=r.createClass({displayName:"Image",getInitialState:function(){return{isLoaded:!1}},getClassName:function(e){var t=o("ars-img",e),n=o({"ars-img-loaded":this.state.isLoaded});return o(t,n)},render:function(){var e=this.props.className,t=(this.props.onLoad,to5Runtime.objectWithoutProperties(this.props,["className","onLoad"]));return r.createElement("img",r.__spread({className:this.getClassName(e),onLoad:this._onLoad},t))},_onLoad:function(){this.setState({isLoaded:!0}),this.props.onLoad&&this.props.onLoad()}});e.exports=i},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(22)),o={fetch:function(e,t,n){var o=r({url:e,json:!0},function(e,r,o){e?n(e):t(o)});return o},find:function(e){var t=void 0===arguments[1]?!1:arguments[1];return t?e.find(function(e){return e.id.toString()===t.toString()}):null},datalist:function(e){return e.map(function(e){return e.caption})}};e.exports=o},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(5)),o=to5Runtime.interopRequire(n(9)),i=to5Runtime.interopRequire(n(1)),s=to5Runtime.interopRequire(n(11)),a=to5Runtime.interopRequire(n(14)),c=i.PropTypes,u=i.createClass({displayName:"Ars",mixins:[a],propTypes:{url:c.string.isRequired,onChange:c.func},getDefaultProps:function(){return{onChange:function(){},picked:null}},getInitialState:function(){return{dialogOpen:!1,picked:this.props.picked}},getPicker:function(){var e=this.state.error,t=this.state.items,n=(this.state.search,this.state.picked);return i.createElement(o,{error:e,items:t,key:"dialog",onSearch:this._onSearchChange,onChange:this._onGalleryPicked,onExit:this._onExit,picked:n})},render:function(){var e=this.state.dialogOpen,t=this.state.items,n=this.state.picked,o=(this.state.search,r.find(t,n));return i.createElement("div",{className:"ars"},i.createElement(s,{onClick:this._onOpenClick,photo:o}),e&&this.getPicker())},_onOpenClick:function(){this.setState({dialogOpen:!0,search:null})},_onSearchChange:function(e){this.setState({search:e},this.fetch)},_onGalleryPicked:function(e){var t=this;this.setState({picked:e},function(){return t.props.onChange(t.state.picked)})},_onExit:function(){this.setState({dialogOpen:!1,search:null})}});e.exports=u},function(e,t,n){"use strict";var r=n(4),o=n(2),i=o.PropTypes,s=o.addons.classSet,a=o.createClass({displayName:"Figure",propTypes:{record:i.object.isRequired,onClick:i.func.isRequired,picked:i.bool},render:function(){var e=this.props.record,t=this.props.picked,n=s({"ars-fig":!0,"ars-fig-picked":t});return o.createElement("button",{className:n,onClick:this._onClick},o.createElement(r,{className:"ars-fig-img",src:e.url}),o.createElement("span",{className:"ars-fig-caption"},e.caption))},_onClick:function(e){e.preventDefault(),this.props.onClick(this.props.record.id)}});e.exports=a},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(2)),o=to5Runtime.interopRequire(n(7)),i=r.addons.CSSTransitionGroup,s=r.PropTypes,a=r.createClass({displayName:"Gallery",propTypes:{items:s.array,onPicked:s.func.isRequired},getDefaultProps:function(){return{items:[],picked:!1}},getItem:function(e){var t=e.id===this.props.picked;return r.createElement(o,{key:"photo_"+e.id,picked:t,record:e,onClick:this.props.onPicked})},render:function(){return r.createElement(i,{component:"div",className:"ars-gallery",transitionName:"ars-fig",onKeyDown:this.props.onKeyDown},this.props.items.map(this.getItem))}});e.exports=a},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(3)),o=to5Runtime.interopRequire(n(12)),i=to5Runtime.interopRequire(n(8)),s=to5Runtime.interopRequire(n(1)),a=to5Runtime.interopRequire(n(10)),c=s.PropTypes,u=s.createClass({displayName:"Picker",propTypes:{onChange:c.func.isRequired,onExit:c.func.isRequired,onSearch:c.func.isRequired},getDefaultProps:function(){return{items:[],picked:!1}},getInitialState:function(){return{picked:this.props.picked}},confirm:function(){this.props.onChange(this.state.picked),this.props.onExit()},cancel:function(){this.props.onExit()},getError:function(){var e=this.props.error;return e?s.createElement("p",{className:"ars-error"},e):null},render:function(){{var e=(this.props.error,this.props.items),t=this.props.onSearch;this.props.onChange,this.props.search}return s.createElement(o,{onExit:this.props.onExit},s.createElement("header",{className:"ars-dialog-header"},s.createElement("h1",{className:"ars-dialog-title"},"Please select a photo"),s.createElement(a,{key:"search",onChange:t})),this.getError(),s.createElement(i,{items:e,picked:this.state.picked,onPicked:this._onPicked,onKeyDown:this._onKeyDown}),s.createElement("footer",{className:"ars-dialog-footer"},s.createElement(r,{onClick:this.props.onExit},"Cancel"),s.createElement(r,{onClick:this._onConfirm,raised:!0},"Okay")))},_onPicked:function(e){this.setState({picked:e})},_onCancel:function(e){e.preventDefault(),this.cancel()},_onConfirm:function(e){e.preventDefault(),this.confirm()},_onKeyDown:function(e){"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&this.confirm()}});e.exports=u},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(19)),o=to5Runtime.interopRequire(n(1)),i=to5Runtime.interopRequire(n(3)),s=to5Runtime.interopRequire(n(15)),a=o.PropTypes,c=2,u=50,p=o.createClass({displayName:"Search",mixins:[s],propTypes:{onChange:a.func.isRequired},getInitialState:function(){return{debouncedChange:r(this.props.onChange,u)}},render:function(){var e="ars_search_"+this.state.id;return o.createElement("form",{className:"ars-search",onSubmit:this._onSubmit},o.createElement("label",{className:"ars-search-label",htmlFor:e},"Search"),o.createElement("input",{id:e,ref:"input",type:"search",className:"ars-search-input",onChange:this._onChange,placeholder:"Search"}),o.createElement(i,{className:"ars-hidden"},"Submit"))},_onChange:function(){var e=this.refs.input.getDOMNode().value||"",t=e.length>=c?e:"";this.state.debouncedChange(t)},_onSubmit:function(e){e.preventDefault(),this._onChange()}});e.exports=p},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(3)),o=to5Runtime.interopRequire(n(4)),i=to5Runtime.interopRequire(n(1)),s="Select an image",a="Choose another image",c=i.createClass({displayName:"Selection",getPhoto:function(){var e=this.props.photo.caption,t=this.props.photo.url;return i.createElement(o,{className:"ars-selection-photo",alt:e,src:t})},render:function(){var e=this.props.photo;return i.createElement(r,{className:"ars-selection",onClick:this._onClick},e&&this.getPhoto(),i.createElement("span",{className:"ars-selection-caption"},e?a:s))},_onClick:function(e){e.preventDefault(),this.props.onClick(e)}});e.exports=c},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(13)),o=to5Runtime.interopRequire(n(1)),i=o.PropTypes,s=o.createClass({displayName:"Dialog",mixins:[r],propTypes:{onExit:i.func.isRequired},render:function(){return o.createElement("div",{className:"ars-dialog",tabIndex:"0",role:"dialog",onKeyUp:this._onKeyUp},o.createElement("div",{className:"ars-dialog-blackout","aria-hidden":!0,onClick:this.props.onExit}),o.createElement("section",{className:"ars-dialog-inner"},this.props.children))},_onKeyUp:function(e){"Escape"===e.key&&this.props.onExit()}});e.exports=s},function(e){"use strict";e.exports={_pushFocus:function(){this.setState({previousFocus:document.activeElement}),this.getDOMNode().focus()},_popFocus:function(){this.state.previousFocus&&(this.state.previousFocus.focus(),this._clearTrap())},_trapFocus:function(){var e=this;this._focusTimer=setTimeout(function(){return e.getDOMNode().focus()},10)},_clearTrap:function(){clearTimeout(this._focusTimer)},componentDidMount:function(){var e=this.getDOMNode();e.addEventListener("focusin",this._clearTrap),e.addEventListener("focusout",this._trapFocus),this._pushFocus()},componentWillUnmount:function(){var e=this.getDOMNode();this._popFocus(),e.removeEventListener("focusin",this._clearTrap),e.removeEventListener("focusout",this._trapFocus)}}},function(e,t,n){"use strict";var r=to5Runtime.interopRequire(n(5)),o=to5Runtime.interopRequire(n(1)),i=o.PropTypes;e.exports={propTypes:{buildQuery:i.func,onFetch:i.func},getDefaultProps:function(){return{onFetch:function(e){return e},urlBuilder:function(e,t){return""+e+"?q="+t}}},getInitialState:function(){return{error:!1,items:[],search:""}},fetch:function(){var e=this.props.urlBuilder(this.props.url,this.state.search);this.state.request&&this.state.request.abort(),this.setState({request:r.fetch(e,this.responseDidSucceed,this.responseDidFail)})},componentWillMount:function(){this.fetch()},responseDidSucceed:function(e){var t=this.props.onFetch(e);this.setState({items:t,error:!1})},responseDidFail:function(e){this.setState({error:e})}}},function(e){"use strict";var t=0;e.exports={getInitialState:function(){return{id:"c"+t++}}}},function(e,t,n){"use strict";Object.assign||(Object.assign=n(21)),n(18)},function(e,t){(function(e){!function(e){var t=e.to5Runtime={};t.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},t.defaults=function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},t.prototypeProperties=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},t.applyConstructor=function(e,t){var n=Object.create(e.prototype),r=e.apply(n,t);return null==r||"object"!=typeof r&&"function"!=typeof r?n:r},t.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},t.interopRequire=function(e){return e&&(e["default"]||e)},t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},t.slicedToArray=function(e,t){if(Array.isArray(e))return e;for(var n,r=[],o=e[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!t||r.length!==t););return r},t.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},t.hasOwn=Object.prototype.hasOwnProperty,t.slice=Array.prototype.slice,t.bind=Function.prototype.bind,t.defineProperty=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}}("undefined"==typeof e?self:e)}).call(t,function(){return this}())},function(){!function(){if(!Array.prototype.find){var e=function(e){var t=Object(this),n=t.length<0?0:t.length>>>0;if(0===n)return void 0;if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#find: predicate must be a function");for(var r,o=arguments[1],i=0;n>i;i++)if(r=t[i],e.call(o,r,i,t))return r;return void 0};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"find",{value:e,configurable:!0,enumerable:!1,writable:!0})}catch(t){}Array.prototype.find||(Array.prototype.find=e)}}(this)},function(e,t,n){var r=n(20);e.exports=function(e,t,n){function o(){var p=r()-c;t>p&&p>0?i=setTimeout(o,t-p):(i=null,n||(u=e.apply(a,s),i||(a=s=null)))}var i,s,a,c,u;return null==t&&(t=100),function(){a=this,s=arguments,c=r();var p=n&&!i;return i||(i=setTimeout(o,t)),p&&(u=e.apply(a,s),a=s=null),u}}},function(e){function t(){return(new Date).getTime()}e.exports=Date.now||t},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e){for(var n,r,o=t(e),i=1;i<arguments.length;i++){n=arguments[i],r=Object.keys(Object(n));for(var s=0;s<r.length;s++)o[r[s]]=n[r[s]]}return o}},function(e,t,n){function r(e,t){function n(){4===m.readyState&&x()}function r(){var e=null;if(m.response?e=m.response:"text"!==m.responseType&&m.responseType||(e=m.responseText||m.responseXML),E)try{e=JSON.parse(e)}catch(t){}return e}function i(){return 1223===m.status?204:m.status}function l(e){var t=null;if(0===e||e>=400&&600>e){var n=("string"==typeof b?b:!1)||c[String(e).charAt(0)];t=new Error(n),t.statusCode=e}return t}function f(){var e=i(),n=l(e),o={body:r(),statusCode:e,statusText:m.statusText,raw:m};o.headers=m.getAllResponseHeaders?a(m.getAllResponseHeaders()):{},t(n,o,o.body)}function d(){var e=i(),n=l(e);m.status=m.statusCode=e,m.body=r(),m.headers=a(m.getAllResponseHeaders()),t(n,m,m.body)}function h(e){t(e,m)}"string"==typeof e&&(e={uri:e}),e=e||{},t=s(t);var m=e.xhr||null;m||(m=e.cors||e.useXDR?new p:new u);var y,g=m.url=e.uri||e.url,v=m.method=e.method||"GET",b=e.body||e.data,R=m.headers=e.headers||{},C=!!e.sync,E=!1,x=e.response?f:d;if("json"in e&&(E=!0,R.Accept="application/json","GET"!==v&&"HEAD"!==v&&(R["Content-Type"]="application/json",b=JSON.stringify(e.json))),m.onreadystatechange=n,m.onload=x,m.onerror=h,m.onprogress=function(){},m.ontimeout=o,m.open(v,g,!C),(e.withCredentials||e.cors&&e.withCredentials!==!1)&&(m.withCredentials=!0),C||(m.timeout="timeout"in e?e.timeout:5e3),m.setRequestHeader)for(y in R)R.hasOwnProperty(y)&&m.setRequestHeader(y,R[y]);else if(e.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(m.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(m),m.send(b),m}function o(){}var i=n(23),s=n(24),a=n(28),c={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},u=i.XMLHttpRequest||o,p="withCredentials"in new u?u:i.XDomainRequest;e.exports=r},function(e,t){(function(t){e.exports="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{}}).call(t,function(){return this}())},function(e){function t(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}e.exports=t,t.proto=t(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return t(this)},configurable:!0})})},function(e,t,n){function r(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===c.call(e)?o(e,t,n):"string"==typeof e?i(e,t,n):s(e,t,n)}function o(e,t,n){for(var r=0,o=e.length;o>r;r++)u.call(e,r)&&t.call(n,e[r],r,e)}function i(e,t,n){for(var r=0,o=e.length;o>r;r++)t.call(n,e.charAt(r),r,e)}function s(e,t,n){for(var r in e)u.call(e,r)&&t.call(n,e[r],r,e)}var a=n(26);e.exports=r;var c=Object.prototype.toString,u=Object.prototype.hasOwnProperty},function(e){function t(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=t;var n=Object.prototype.toString},function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){var r=n(27),o=n(25),i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return o(r(e).split("\n"),function(e){var n=e.indexOf(":"),o=r(e.slice(0,n)).toLowerCase(),s=r(e.slice(n+1));"undefined"==typeof t[o]?t[o]=s:i(t[o])?t[o].push(s):t[o]=[t[o],s]}),t}},function(){}]);
//# sourceMappingURL=ars-arsenal.js.map