{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///build/js/ars-arsenal.js","webpack:///webpack/bootstrap 34268866c5f1840f9670","webpack:///./src/index.js","webpack:///external \"react\"","webpack:///external \"react/addons\"","webpack:///./src/components/ui/button.js","webpack:///./src/components/ui/image.js","webpack:///./src/stores/photo.js","webpack:///./~/array.prototype.find/index.js","webpack:///./src/components/ars.js","webpack:///./src/components/figure.js","webpack:///./src/components/gallery.js","webpack:///./src/components/picker.js","webpack:///./src/components/search.js","webpack:///./src/components/selection.js","webpack:///./src/components/ui/dialog.js","webpack:///./src/mixins/focus.js","webpack:///./src/mixins/sync.js","webpack:///./src/mixins/uniqueId.js","webpack:///./src/patch.js","webpack:///./~/object-assign/index.js","webpack:///./~/xhr/index.js","webpack:///./~/xhr/~/global/window.js","webpack:///./~/xhr/~/once/once.js","webpack:///./~/xhr/~/parse-headers/~/for-each/index.js","webpack:///./~/xhr/~/parse-headers/~/for-each/~/is-function/index.js","webpack:///./~/xhr/~/parse-headers/~/trim/index.js","webpack:///./~/xhr/~/parse-headers/parse-headers.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","React","Ars","component","render","el","options","createElement","__spread","cx","PropTypes","addons","classSet","Button","createClass","displayName","getDefaultProps","raised","getClassName","base","mods","ars-button","ars-button-raised","props","$__0","className","children","attrs","source","exclusion","rest","hasOwn","Object","prototype","hasOwnProperty","TypeError","key","Image","getInitialState","isLoaded","states","ars-img-loaded","state","onLoad","_onLoad","setState","xhr","Photo","fetch","url","success","error","request","json","err","response","body","filter","items","query","pattern","RegExp","i","caption","match","find","toString","datalist","map","Array","predicate","list","length","undefined","value","thisArg","arguments","defineProperty","configurable","enumerable","writable","e","Picker","Selection","Sync","Types","mixins","propTypes","string","isRequired","onChange","func","picked","dialogOpen","search","getPicker","allowed","onSearch","_onSearchChange","_onGalleryPicked","onExit","_onExit","record","onClick","_onOpenClick","photo","bind","Figure","object","bool","ars-fig","ars-fig-picked","_onClick","src","preventDefault","Animation","CSSTransitionGroup","Gallery","array","onPicked","getItem","isPicked","transitionName","onKeyDown","Dialog","Search","confirm","cancel","getError","_onPicked","_onKeyDown","_onConfirm","_onCancel","metaKey","ctrlKey","UniqueID","THRESHOLD","htmlFor","ref","type","_onChange","placeholder","refs","input","getDOMNode","result","SHOULD_SELECT","PICK_ANOTHER","getPhoto","alt","hasPhoto","Focus","tabIndex","role","onKeyUp","_onKeyUp","aria-hidden","_pushFocus","previousFocus","document","activeElement","focus","_popFocus","_clearTrap","_trapFocus","_focusTimer","setTimeout","clearTimeout","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","onFetch","data","componentWillMount","responseDidSucceed","responseDidFail","raw","_id","assign","ToObject","val","target","from","keys","to","s","createXHR","callback","readystatechange","readyState","load","getBody","responseType","responseText","responseXML","isJson","JSON","parse","getStatusCode","status","errorFromStatusCode","message","messages","String","charAt","Error","statusCode","loadResponse","statusText","headers","getAllResponseHeaders","parseHeaders","loadXhr","evt","uri","once","cors","useXDR","XDR","XHR","method","sync","stringify","onreadystatechange","onload","onerror","onprogress","ontimeout","noop","open","withCredentials","timeout","setRequestHeader","beforeSend","send","window","0","4","5","XMLHttpRequest","XDomainRequest","global","self","fn","called","apply","proto","Function","forEach","iterator","context","isFunction","forEachArray","forEachString","forEachObject","len","k","alert","prompt","trim","str","replace","left","right","isArray","arg","split","row","index","indexOf","slice","toLowerCase","push"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,SAAAA,QAAA,iBACA,kBAAAC,gBAAAC,IACAD,QAAA,wBAAAJ,GACA,gBAAAC,SACAA,QAAA,WAAAD,EAAAG,QAAA,SAAAA,QAAA,iBAEAJ,EAAA,WAAAC,EAAAD,EAAA,MAAAA,EAAA,kBACCO,KAAA,SAAAC,EAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAV,OAGA,IAAAC,GAAAU,EAAAD,IACAV,WACAY,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAb,EAAAD,QAAAC,IAAAD,QAAAS,GAGAR,EAAAY,QAAA,EAGAZ,EAAAD,QAvBA,GAAAW,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASR,EAAQD,EAASS,GE7ChCA,EAAA,IAOAA,EAAA,GAEA,IAAAS,GAAAT,EAAA,GACAU,EAAAV,EAAA,EAEAR,GAAAD,SACAoB,UAAAD,EACAE,OAAA,SAAAC,EAAAC,GACAL,EAAAG,OAAAH,EAAAM,cAAAL,EAAAD,EAAAO,YAA2DF,IAAAD,MF+DrD,SAASrB,GGvFfA,EAAAD,QAAAM,GH6FM,SAASL,GI7FfA,EAAAD,QAAAO,GJmGM,SAASN,EAAQD,EAASS,GK/FhC,GAAAS,GAAAT,EAAA,GAEAiB,GADAR,EAAAS,UACAT,EAAAU,OAAAC,UAEAC,EAAAZ,EAAAa,aAAgCC,YAAA,SAEhCC,gBAAA,WACA,OACAC,QAAA,IAIAC,aAAA,SAAAC,GACA,GAAAC,GAAAX,GACAY,cAAA,EACAC,oBAAAlC,KAAAmC,MAAAN,QAGA,OAAAR,GAAAU,EAAAC,IAGAhB,OAAA,WACA,GAAAoB,GAAApC,KAAAmC,MAAAE,EAAAD,EAAAC,UAAAC,EAAAF,EAAAE,SAAAC,EAAA,SAAAC,EAAAC,GAAiH,GAAAC,MAAcC,EAAAC,OAAAC,UAAAC,cAA6C,UAAAN,EAAqB,SAAAO,UAAuB,QAAAC,KAAAR,GAAyBG,EAAAlC,KAAA+B,EAAAQ,KAAAL,EAAAlC,KAAAgC,EAAAO,KAA+DN,EAAAM,GAAAR,EAAAQ,GAA0B,OAAAN,IAAaN,GAAQC,UAAA,EAAAC,SAAA,GAE/V,OACAzB,GAAAM,cAAA,SAAAN,EAAAO,UAAoDiB,UAAArC,KAAA8B,aAAAO,IAA0CE,GAC9FD,KAOA1C,GAAAD,QAAA8B,GL0GM,SAAS7B,EAAQD,EAASS,GMzIhC,GAAAS,GAAAT,EAAA,GACAiB,EAAAR,EAAAU,OAAAC,SAEAyB,EAAApC,EAAAa,aAA+BC,YAAA,QAE/BuB,gBAAA,WACA,OACAC,UAAA,IAIArB,aAAA,SAAArC,GACA,GAAAsC,GAAAV,EAAA,UAAA5B,GACA2D,EAAA/B,GACAgC,iBAAArD,KAAAsD,MAAAH,UAGA,OAAA9B,GAAAU,EAAAqB,IAGApC,OAAA,WACA,GAAAoB,GAAApC,KAAAmC,MAAAE,EAAAD,EAAAC,UAAAF,GAAAC,EAAAmB,OAAA,SAAAf,EAAAC,GAA6G,GAAAC,MAAcC,EAAAC,OAAAC,UAAAC,cAA6C,UAAAN,EAAqB,SAAAO,UAAuB,QAAAC,KAAAR,GAAyBG,EAAAlC,KAAA+B,EAAAQ,KAAAL,EAAAlC,KAAAgC,EAAAO,KAA+DN,EAAAM,GAAAR,EAAAQ,GAA0B,OAAAN,IAAaN,GAAQC,UAAA,EAAAkB,OAAA,IAE3V,OAAA1C,GAAAM,cAAA,MAAAN,EAAAO,UAAsDiB,UAAArC,KAAA8B,aAAAO,GAAAkB,OAAAvD,KAAAwD,SAAgErB,KAGtHqB,QAAA,WACAxD,KAAAyD,UAAmBN,UAAA,IAEnBnD,KAAAmC,MAAAoB,QACAvD,KAAAmC,MAAAoB,WAMA3D,GAAAD,QAAAsD,GNsJM,SAASrD,EAAQD,EAASS,GO1LhC,GAAAsD,GAAAtD,EAAA,IAEAuD,GAEAC,MAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAAN,GAAuBG,MAAAI,MAAA,GAAsB,SAAAC,EAAAC,EAAAC,GAC7CF,EAAAH,EAAAG,GAAAJ,EAAAM,IAGA,OAAAJ,IAGAK,OAAA,SAAAC,EAAAC,GACA,GAAAC,GAAA,GAAAC,QAAAF,EAAA,IAEA,OAAAA,GAAAD,EAAAD,OAAA,SAAAK,GAA8C,MAAAA,GAAAC,QAAAC,MAAAJ,KAAiCF,GAG/EO,KAAA,SAAAP,EAAA/D,GACA,eAAAA,EAAA,KAEA+D,EAAAO,KAAA,SAAAH,GAAoC,MAAAA,GAAAnE,GAAAuE,aAAAvE,EAAAuE,cAGpCC,SAAA,SAAAT,GACA,MAAAA,GAAAU,IAAA,SAAAN,GAAmC,MAAAA,GAAAC,WAKnC/E,GAAAD,QAAAgE,GPuMM,YQxON,WACA,IAAAsB,MAAApC,UAAAgC,KAAA,CAEA,GAAAA,GAAA,SAAAK,GACA,GAAAC,GAAAvC,OAAA5C,MACAoF,EAAAD,EAAAC,OAAA,IAAAD,EAAAC,SAAA,CACA,QAAAA,EAAA,MAAAC,OACA,sBAAAH,IAAA,sBAAAtC,OAAAC,UAAAiC,SAAArE,KAAAyE,GACA,SAAAnC,WAAA,2CAGA,QAAAuC,GADAC,EAAAC,UAAA,GACAd,EAAA,EAA0BU,EAAAV,EAAYA,IAEtC,GADAY,EAAAH,EAAAT,GACAQ,EAAAzE,KAAA8E,EAAAD,EAAAZ,EAAAS,GAAA,MAAAG,EAEA,OAAAD,QAGA,IAAAzC,OAAA6C,eACA,IACA7C,OAAA6C,eAAAR,MAAApC,UAAA,QACAyC,MAAAT,EAAAa,cAAA,EAAAC,YAAA,EAAAC,UAAA,IAEK,MAAAC,IAGLZ,MAAApC,UAAAgC,OACAI,MAAApC,UAAAgC,UAEC7E,ORkPK,SAASJ,EAAQD,EAASS,GS7QhC,GAAA0F,GAAA1F,EAAA,IACAuD,EAAAvD,EAAA,GACAS,EAAAT,EAAA,GACA2F,EAAA3F,EAAA,IACA4F,EAAA5F,EAAA,IACA6F,EAAApF,EAAAS,UAEAR,EAAAD,EAAAa,aAA6BC,YAAA,MAE7BuE,QAAAF,GAEAG,WACAtC,IAAAoC,EAAAG,OAAAC,WACAC,SAAAL,EAAAM,MAGA3E,gBAAA,WACA,OACA0E,SAAA,aACAE,OAAA,OAIAtD,gBAAA,WACA,OACAuD,YAAA,EACAD,OAAAxG,KAAAmC,MAAAqE,OACAE,OAAA,KAIAC,UAAA,WACA,GAAAvE,GAAApC,KAAAsD,MAAAS,EAAA3B,EAAA2B,MAAAO,EAAAlC,EAAAkC,MAAAoC,EAAAtE,EAAAsE,OAAAF,EAAApE,EAAAoE,OAEAI,EAAAjD,EAAAU,OAAAC,EAAAoC,EAEA,OACA7F,GAAAM,cAAA2E,GAAmC/B,QACnCO,MAAAsC,EACA5D,IAAA,SACA6D,SAAA7G,KAAA8G,gBACAR,SAAAtG,KAAA+G,iBACAC,OAAAhH,KAAAiH,QACAT,YAIAxF,OAAA,WACA,GAAAoB,GAAApC,KAAAsD,MAAAmD,EAAArE,EAAAqE,WAAAnC,EAAAlC,EAAAkC,MAAAkC,EAAApE,EAAAoE,OAEAU,GAFA9E,EAAAsE,OAEA/C,EAAAkB,KAAAP,EAAAkC,GAEA,OACA3F,GAAAM,cAAA,OAAkCkB,UAAA,OAClCxB,EAAAM,cAAA4E,GAAwCoB,QAAAnH,KAAAoH,aAAAC,MAAAH,IACxCT,GAAAzG,KAAA2G,cAKAS,aAAA,WACApH,KAAAyD,UAAmBgD,YAAA,EAAAC,OAAA,QAGnBI,gBAAA,SAAAJ,GACA1G,KAAAyD,UAAmBiD,YAGnBK,iBAAA,SAAAP,GACAxG,KAAAyD,UAAmB+C,UAAgB,WAAe,MAAAxG,MAAAmC,MAAAmE,SAAAtG,KAAAsD,MAAAkD,SAA+Cc,KAAAtH,QAGjGiH,QAAA,WACAjH,KAAAyD,UAAmBgD,YAAA,EAAAC,OAAA,SAKnB9G,GAAAD,QAAAmB,GTyRM,SAASlB,EAAQD,EAASS,GUvWhC,GAAA6C,GAAA7C,EAAA,GACAS,EAAAT,EAAA,GACA6F,EAAApF,EAAAS,UACAD,EAAAR,EAAAU,OAAAC,SAEA+F,EAAA1G,EAAAa,aAAgCC,YAAA,SAEhCwE,WACAe,OAAAjB,EAAAuB,OAAAnB,WACAc,QAAAlB,EAAAM,KAAAF,WACAG,OAAAP,EAAAwB,MAGAzG,OAAA,WACA,GAAAoB,GAAApC,KAAAmC,MAAA+E,EAAA9E,EAAA8E,OAAAV,EAAApE,EAAAoE,OAEAnE,EAAAhB,GACAqG,WAAA,EACAC,iBAAAnB,GAGA,OACA3F,GAAAM,cAAA,UAAqCkB,YAAA8E,QAAAnH,KAAA4H,UACrC/G,EAAAM,cAAA8B,GAAoCZ,UAAA,cAAAwF,IAAAX,EAAArD,MAEpChD,EAAAM,cAAA,QAAqCkB,UAAA,mBACrC6E,EAAAvC,WAMAiD,SAAA,SAAA/B,GACAA,EAAAiC,iBACA9H,KAAAmC,MAAAgF,QAAAnH,KAAAmC,MAAA+E,OAAA3G,MAKAX,GAAAD,QAAA4H,GVmXM,SAAS3H,EAAQD,EAASS,GW1ZhC,GAAAS,GAAAT,EAAA,GACA2H,EAAAlH,EAAAU,OAAAyG,mBACAT,EAAAnH,EAAA,GACA6F,EAAApF,EAAAS,UAEA2G,EAAApH,EAAAa,aAAiCC,YAAA,UAEjCwE,WACA7B,MAAA2B,EAAAiC,MACAC,SAAAlC,EAAAM,KAAAF,YAGAzE,gBAAA,WACA,OACA0C,SACAkC,QAAA,IAIA4B,QAAA,SAAAlB,GACA,GAAAmB,GAAAnB,EAAA3G,KAAAP,KAAAmC,MAAAqE,MAEA,OACA3F,GAAAM,cAAAoG,GAAmCvE,IAAA,SAAAkE,EAAA3G,GAAAiG,OAAA6B,EAAAnB,SAAAC,QAAAnH,KAAAmC,MAAAgG,YAInCnH,OAAA,WACA,MACAH,GAAAM,cAAA4G,GAAsChH,UAAA,MAAAsB,UAAA,cAAAiG,eAAA,UAAAC,UAAAvI,KAAAmC,MAAAoG,WACtCvI,KAAAmC,MAAAmC,MAAAU,IAAAhF,KAAAoI,YAOAxI,GAAAD,QAAAsI,GXsaM,SAASrI,EAAQD,EAASS,GY3chC,GAAAqB,GAAArB,EAAA,GACAoI,EAAApI,EAAA,IACA6H,EAAA7H,EAAA,GACAS,EAAAT,EAAA,GACAqI,EAAArI,EAAA,IACA6F,EAAApF,EAAAS,UAEAwE,EAAAjF,EAAAa,aAAgCC,YAAA,SAEhCwE,WACAG,SAAAL,EAAAM,KAAAF,WACAW,OAAAf,EAAAM,KAAAF,WACAQ,SAAAZ,EAAAM,KAAAF,YAGAzE,gBAAA,WACA,OACA0C,SACAkC,QAAA,IAIAtD,gBAAA,WACA,OACAsD,OAAAxG,KAAAmC,MAAAqE,SAIAkC,QAAA,WACA1I,KAAAmC,MAAAmE,SAAAtG,KAAAsD,MAAAkD,QACAxG,KAAAmC,MAAA6E,UAGA2B,OAAA,WACA3I,KAAAmC,MAAA6E,UAGA4B,SAAA,WACA,GAAA7E,GAAA/D,KAAAmC,MAAA4B,KAEA,OAAAA,GACAlD,EAAAM,cAAA,KAAgCkB,UAAA,aAAuB0B,GACvD,MAGA/C,OAAA,WACA,IAAAoB,GAAApC,KAAAmC,MAAAmC,GAAAlC,EAAA2B,MAAA3B,EAAAkC,OAAAuC,EAAAzE,EAAAyE,QAAAzE,GAAAkE,SAAAlE,EAAAsE,OAEA,MACA7F,GAAAM,cAAAqH,GAAmCxB,OAAAhH,KAAAmC,MAAA6E,QAEnCnG,EAAAM,cAAA,UAAuCkB,UAAA,qBACvCxB,EAAAM,cAAA,MAAqCkB,UAAA,oBAA8B,yBACnExB,EAAAM,cAAAsH,GAAuCzF,IAAA,SAAAsD,SAAAO,KAGvC7G,KAAA4I,WAEA/H,EAAAM,cAAA8G,GAAsC3D,QAAAkC,OAAAxG,KAAAsD,MAAAkD,OAAA2B,SAAAnI,KAAA6I,UAAAN,UAAAvI,KAAA8I,aAEtCjI,EAAAM,cAAA,UAAuCkB,UAAA,qBACvCxB,EAAAM,cAAAM,GAAuC0F,QAAAnH,KAAAmC,MAAA6E,QAA4B,UACnEnG,EAAAM,cAAAM,GAAuC0F,QAAAnH,KAAA+I,WAAAlH,QAAA,GAAwC,WAO/EgH,UAAA,SAAArC,GACAxG,KAAAyD,UAAmB+C,YAGnBwC,UAAA,SAAAnD,GACAA,EAAAiC,iBACA9H,KAAA2I,UAGAI,WAAA,SAAAlD,GACAA,EAAAiC,iBACA9H,KAAA0I,WAGAI,WAAA,SAAAjD,GACA,UAAAA,EAAA7C,MAAA6C,EAAAoD,SAAApD,EAAAqD,UACAlJ,KAAA0I,YAMA9I,GAAAD,QAAAmG,GZudM,SAASlG,EAAQD,EAASS,GanjBhC,GAAAS,GAAAT,EAAA,GACA6F,EAAApF,EAAAS,UACA6H,EAAA/I,EAAA,IAGAgJ,EAAA,EAEAX,EAAA5H,EAAAa,aAAgCC,YAAA,SAEhCuE,QAAAiD,GAEAhD,WACAG,SAAAL,EAAAM,KAAAF,YAGArF,OAAA,WACA,GAAAT,GAAA,cAAAP,KAAAsD,MAAA/C,EAEA,OACAM,GAAAM,cAAA,OAAkCkB,UAAA,cAClCxB,EAAAM,cAAA,SAAsCkB,UAAA,mBAAAgH,QAAA9I,GAA4C,UAClFM,EAAAM,cAAA,SAAsCZ,KAAA+I,IAAA,QAAAC,KAAA,SAAAlH,UAAA,mBAAAiE,SAAAtG,KAAAwJ,UAAAC,YAAA,aAKtCD,UAAA,WACA,GAAAjF,GAAAvE,KAAA0J,KAAAC,MAAAC,aAAAtE,OAAA,GACAuE,EAAAtF,EAAAa,QAAAgE,EAAA7E,EAAA,EAEAvE,MAAAmC,MAAAmE,SAAAuD,KAKAjK,GAAAD,QAAA8I,Gb8jBM,SAAS7I,EAAQD,EAASS,GcjmBhC,GAAAqB,GAAArB,EAAA,GACA6C,EAAA7C,EAAA,GACAS,EAAAT,EAAA,GAEA0J,EAAA,kBACAC,EAAA,uBAEAhE,EAAAlF,EAAAa,aAAmCC,YAAA,YAEnCqI,SAAA,WACA,GAAA5H,GAAApC,KAAAmC,MAAAkF,MAAA1C,EAAAvC,EAAAuC,QAAAd,EAAAzB,EAAAyB,GAEA,OACAhD,GAAAM,cAAA8B,GAAkCZ,UAAA,sBAAA4H,IAAAtF,EAAAkD,IAAAhE,KAIlC7C,OAAA,WACA,GAAAkJ,GAAAlK,KAAAmC,MAAAkF,KAEA,OACAxG,GAAAM,cAAAM,GAAmCY,UAAA,gBAAA8E,QAAAnH,KAAA4H,UACnCsC,GAAAlK,KAAAgK,WAEAnJ,EAAAM,cAAA,QAAqCkB,UAAA,yBACrC6H,EAAAH,EAAAD,KAMAlC,SAAA,SAAA/B,GACAA,EAAAiC,iBACA9H,KAAAmC,MAAAgF,QAAAtB,KAKAjG,GAAAD,QAAAoG,Gd4mBM,SAASnG,EAAQD,EAASS,GejpBhC,GAAA+J,GAAA/J,EAAA,IACAS,EAAAT,EAAA,GAEA6F,EAAApF,EAAAS,UAEAkH,EAAA3H,EAAAa,aAAgCC,YAAA,SAEhCuE,QAAAiE,GAEAhE,WACAa,OAAAf,EAAAM,KAAAF,YAGArF,OAAA,WACA,MACAH,GAAAM,cAAA,OAAkCkB,UAAA,aAAA+H,SAAA,IAAAC,KAAA,SAAAC,QAAAtK,KAAAuK,UAElC1J,EAAAM,cAAA,OAAoCkB,UAAA,sBAAAmI,eAAA,EAAArD,QAAAnH,KAAAmC,MAAA6E,SAEpCnG,EAAAM,cAAA,WAAwCkB,UAAA,oBACxCrC,KAAAmC,MAAAG,YAOAiI,SAAA,SAAA1E,GACA,WAAAA,EAAA7C,KACAhD,KAAAmC,MAAA6E,WAMApH,GAAAD,QAAA6I,Gf6pBM,SAAS5I,GgB9rBfA,EAAAD,SAEA8K,WAAA,WACAzK,KAAAyD,UACAiH,cAAAC,SAAAC,gBAGA5K,KAAA4J,aAAAiB,SAGAC,UAAA,WACA9K,KAAAsD,MAAAoH,gBACA1K,KAAAsD,MAAAoH,cAAAG,QACA7K,KAAA+K,eAMAC,WAAA,WACAhL,KAAAiL,YAAAC,WAAA,WAAgD,MAAAlL,MAAA4J,aAAAiB,SAAkCvD,KAAAtH,MAAA,KAGlF+K,WAAA,WACAI,aAAAnL,KAAAiL,cAGAG,kBAAA,WACA,GAAAnK,GAAAjB,KAAA4J,YAEA3I,GAAAoK,iBAAA,UAAArL,KAAA+K,YACA9J,EAAAoK,iBAAA,WAAArL,KAAAgL,YAEAhL,KAAAyK,cAGAa,qBAAA,WACA,GAAArK,GAAAjB,KAAA4J,YAEA5J,MAAA8K,YAEA7J,EAAAsK,oBAAA,UAAAvL,KAAA+K,YACA9J,EAAAsK,oBAAA,WAAAvL,KAAAgL,ehB+sBM,SAASpL,EAAQD,EAASS,GiB3vBhC,GAAAuD,GAAAvD,EAAA,GACA6F,EAAA7F,EAAA,GAAAkB,SAEA1B,GAAAD,SAEAwG,WACAqF,QAAAvF,EAAAM,MAGA3E,gBAAA,WACA,OACA4J,QAAA,SAAAC,GAAiC,MAAAA,MAIjCvI,gBAAA,WACA,OACAoB,SACAP,OAAA,IAIA2H,mBAAA,WACA/H,EAAAC,MAAA5D,KAAAmC,MAAA0B,IAAA7D,KAAA2L,mBAAA3L,KAAA4L,kBAGAD,mBAAA,SAAAE,GACA,GAAAvH,GAAAtE,KAAAmC,MAAAqJ,QAAAK,EAEA7L,MAAAyD,UAAmBa,QAAAP,OAAA,KAGnB6H,gBAAA,SAAA7H,GACA/D,KAAAyD,UAAmBM,ajB0wBb,SAASnE,GkB3yBf,GAAAkM,GAAA,CAEAlM,GAAAD,SAEAuD,gBAAA,WACA,OACA3C,GAAA,IAAAuL,QlB2zBM,SAASlM,EAAQD,EAASS,GmBr0BhCwC,OAAAmJ,SACAnJ,OAAAmJ,OAAA3L,EAAA,KAIAA,EAAA,InB60BM,SAASR,GoBn1Bf,YAEA,SAAAoM,GAAAC,GACA,SAAAA,EACA,SAAAlJ,WAAA,wDAGA,OAAAH,QAAAqJ,GAGArM,EAAAD,QAAAiD,OAAAmJ,QAAA,SAAAG,GAKA,OAJAC,GACAC,EACAC,EAAAL,EAAAE,GAEAI,EAAA,EAAgBA,EAAA9G,UAAAJ,OAAsBkH,IAAA,CACtCH,EAAA3G,UAAA8G,GACAF,EAAAxJ,OAAAwJ,KAAAxJ,OAAAuJ,GAEA,QAAAzH,GAAA,EAAiBA,EAAA0H,EAAAhH,OAAiBV,IAClC2H,EAAAD,EAAA1H,IAAAyH,EAAAC,EAAA1H,IAIA,MAAA2H,KpB21BM,SAASzM,EAAQD,EAASS,GqBp2BhC,QAAAmM,GAAArL,EAAAsL,GAgFA,QAAAC,KACA,IAAA/I,EAAAgJ,YACAC,IAIA,QAAAC,KAEA,GAAAxI,GAAA,IAQA,IANAV,EAAAS,SACAC,EAAAV,EAAAS,SACS,SAAAT,EAAAmJ,cAAAnJ,EAAAmJ,eACTzI,EAAAV,EAAAoJ,cAAApJ,EAAAqJ,aAGAC,EACA,IACA5I,EAAA6I,KAAAC,MAAA9I,GACa,MAAAyB,IAGb,MAAAzB,GAGA,QAAA+I,KACA,cAAAzJ,EAAA0J,OAAA,IAAA1J,EAAA0J,OAIA,QAAAC,GAAAD,GACA,GAAArJ,GAAA,IACA,QAAAqJ,MAAA,SAAAA,EAAA,CACA,GAAAE,IAAA,gBAAAlJ,MAAA,IACAmJ,EAAAC,OAAAJ,GAAAK,OAAA,GACA1J,GAAA,GAAA2J,OAAAJ,GACAvJ,EAAA4J,WAAAP,EAGA,MAAArJ,GAIA,QAAA6J,KACA,GAAAR,GAAAD,IACApJ,EAAAsJ,EAAAD,GACAjJ,GACAC,KAAAwI,IACAe,WAAAP,EACAS,WAAAnK,EAAAmK,WACAhC,IAAAnI,EAGAS,GAAA2J,QADApK,EAAAqK,sBACAC,EAAAtK,EAAAqK,4BAKAvB,EAAAzI,EAAAI,IAAAC,MAKA,QAAA6J,KACA,GAAAb,GAAAD,IACApJ,EAAAsJ,EAAAD,EAEA1J,GAAA0J,OAAA1J,EAAAiK,WAAAP,EACA1J,EAAAU,KAAAwI,IACAlJ,EAAAoK,QAAAE,EAAAtK,EAAAqK,yBAEAvB,EAAAzI,EAAAL,IAAAU,MAGA,QAAAL,GAAAmK,GACA1B,EAAA0B,EAAAxK,GA1JA,gBAAAxC,KACAA,GAAmBiN,IAAAjN,IAGnBA,QACAsL,EAAA4B,EAAA5B,EAEA,IAAA9I,GAAAxC,EAAAwC,KAAA,IAEAA,KAEAA,EADAxC,EAAAmN,MAAAnN,EAAAoN,OACA,GAAAC,GAEA,GAAAC,GAIA,IAMAxL,GANAmL,EAAAzK,EAAAG,IAAA3C,EAAAiN,KAAAjN,EAAA2C,IACA4K,EAAA/K,EAAA+K,OAAAvN,EAAAuN,QAAA,MACArK,EAAAlD,EAAAkD,MAAAlD,EAAAuK,KACAqC,EAAApK,EAAAoK,QAAA5M,EAAA4M,YACAY,IAAAxN,EAAAwN,KACA1B,GAAA,EAEAL,EAAAzL,EAAAiD,SAAAyJ,EAAAK,CA+BA,IA7BA,QAAA/M,KACA8L,GAAA,EACAc,EAAA,0BACA,QAAAW,GAAA,SAAAA,IACAX,EAAA,mCACA1J,EAAA6I,KAAA0B,UAAAzN,EAAA+C,QAIAP,EAAAkL,mBAAAnC,EACA/I,EAAAmL,OAAAlC,EACAjJ,EAAAoL,QAAA/K,EAEAL,EAAAqL,WAAA,aAIArL,EAAAsL,UAAAC,EACAvL,EAAAwL,KAAAT,EAAAN,GAAAO,IAEAxN,EAAAiO,iBAAAjO,EAAAmN,MAAAnN,EAAAiO,mBAAA,KACAzL,EAAAyL,iBAAA,GAIAT,IACAhL,EAAA0L,QAAA,WAAAlO,KAAAkO,QAAA,KAGA1L,EAAA2L,iBACA,IAAArM,IAAA8K,GACAA,EAAAhL,eAAAE,IACAU,EAAA2L,iBAAArM,EAAA8K,EAAA9K,QAGK,IAAA9B,EAAA4M,QACL,SAAAJ,OAAA,oDAeA,OAZA,gBAAAxM,KACAwC,EAAAmJ,aAAA3L,EAAA2L,cAGA,cAAA3L,IACA,kBAAAA,GAAAoO,YAEApO,EAAAoO,WAAA5L,GAGAA,EAAA6L,KAAAnL,GAEAV,EAkFA,QAAAuL,MA/KA,GAAAO,GAAApP,EAAA,IACAgO,EAAAhO,EAAA,IACA4N,EAAA5N,EAAA,IAEAmN,GACAkC,EAAA,gCACAC,EAAA,mBACAC,EAAA,oBAGAnB,EAAAgB,EAAAI,gBAAAX,EACAV,EAAA,uBAAAC,KAAAgB,EAAAK,cAEAjQ,GAAAD,QAAA4M,GrB4hCM,SAAS3M,EAAQD,IsBziCvB,SAAAmQ,GACAlQ,EAAAD,QADA,mBAAA6P,QACAA,OACC,mBAAAM,GACDA,EACC,mBAAAC,MACDA,UtBgjC8BtP,KAAKd,EAAU,WAAa,MAAOK,WAI3D,SAASJ,GuB9iCf,QAAAwO,GAAA4B,GACA,GAAAC,IAAA,CACA,mBACA,MAAAA,GAAA,QACAA,GAAA,EACAD,EAAAE,MAAAlQ,KAAAwF,aAhBA5F,EAAAD,QAAAyO,EAEAA,EAAA+B,MAAA/B,EAAA,WACAxL,OAAA6C,eAAA2K,SAAAvN,UAAA,QACAyC,MAAA,WACA,MAAA8I,GAAApO,OAEA0F,cAAA,OvB2kCM,SAAS9F,EAAQD,EAASS,GwB3kChC,QAAAiQ,GAAAlL,EAAAmL,EAAAC,GACA,IAAAC,EAAAF,GACA,SAAAvN,WAAA,8BAGAyC,WAAAJ,OAAA,IACAmL,EAAAvQ,MAGA,mBAAA8E,EAAArE,KAAA0E,GACAsL,EAAAtL,EAAAmL,EAAAC,GACA,gBAAApL,GACAuL,EAAAvL,EAAAmL,EAAAC,GAEAI,EAAAxL,EAAAmL,EAAAC,GAGA,QAAAE,GAAAvI,EAAAoI,EAAAC,GACA,OAAA7L,GAAA,EAAAkM,EAAA1I,EAAA9C,OAAuCwL,EAAAlM,EAASA,IAChD5B,EAAArC,KAAAyH,EAAAxD,IACA4L,EAAA7P,KAAA8P,EAAArI,EAAAxD,KAAAwD,GAKA,QAAAwI,GAAAtK,EAAAkK,EAAAC,GACA,OAAA7L,GAAA,EAAAkM,EAAAxK,EAAAhB,OAAwCwL,EAAAlM,EAASA,IAEjD4L,EAAA7P,KAAA8P,EAAAnK,EAAAqH,OAAA/I,KAAA0B,GAIA,QAAAuK,GAAAnJ,EAAA8I,EAAAC,GACA,OAAAM,KAAArJ,GACA1E,EAAArC,KAAA+G,EAAAqJ,IACAP,EAAA7P,KAAA8P,EAAA/I,EAAAqJ,KAAArJ,GA1CA,GAAAgJ,GAAApQ,EAAA,GAEAR,GAAAD,QAAA0Q,CAEA,IAAAvL,GAAAlC,OAAAC,UAAAiC,SACAhC,EAAAF,OAAAC,UAAAC,gBxBioCM,SAASlD,GyBloCf,QAAA4Q,GAAAR,GACA,GAAA5J,GAAAtB,EAAArE,KAAAuP,EACA,6BAAA5J,GACA,kBAAA4J,IAAA,oBAAA5J,GACA,mBAAAoJ,UAEAQ,IAAAR,OAAAtE,YACA8E,IAAAR,OAAAsB,OACAd,IAAAR,OAAA9G,SACAsH,IAAAR,OAAAuB,QAbAnR,EAAAD,QAAA6Q,CAEA,IAAA1L,GAAAlC,OAAAC,UAAAiC,UzBypCM,SAASlF,EAAQD,G0BxpCvB,QAAAqR,GAAAC,GACA,MAAAA,GAAAC,QAAA,iBAHAvR,EAAAC,EAAAD,QAAAqR,EAMArR,EAAAwR,KAAA,SAAAF,GACA,MAAAA,GAAAC,QAAA,YAGAvR,EAAAyR,MAAA,SAAAH,GACA,MAAAA,GAAAC,QAAA,a1BmqCM,SAAStR,EAAQD,EAASS,G2B/qChC,GAAA4Q,GAAA5Q,EAAA,IACAiQ,EAAAjQ,EAAA,IACAiR,EAAA,SAAAC,GACA,yBAAA1O,OAAAC,UAAAiC,SAAArE,KAAA6Q,GAGA1R,GAAAD,QAAA,SAAAmO,GACA,IAAAA,EACA,QAEA,IAAAjE,KAmBA,OAjBAwG,GACAW,EAAAlD,GAAAyD,MAAA,MACA,SAAAC,GACA,GAAAC,GAAAD,EAAAE,QAAA,KACA1O,EAAAgO,EAAAQ,EAAAG,MAAA,EAAAF,IAAAG,cACAtM,EAAA0L,EAAAQ,EAAAG,MAAAF,EAAA,GAEA,oBAAA5H,GAAA7G,GACA6G,EAAA7G,GAAAsC,EACS+L,EAAAxH,EAAA7G,IACT6G,EAAA7G,GAAA6O,KAAAvM,GAEAuE,EAAA7G,IAAA6G,EAAA7G,GAAAsC,KAKAuE,I3BsrCM","file":"build/js/ars-arsenal.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react/addons\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react/addons\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ArsArsenal\"] = factory(require(\"react\"), require(\"react/addons\"));\n\telse\n\t\troot[\"ArsArsenal\"] = factory(root[\"react\"], root[\"react/addons\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react/addons\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react/addons\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ArsArsenal\"] = factory(require(\"react\"), require(\"react/addons\"));\n\telse\n\t\troot[\"ArsArsenal\"] = factory(root[\"react\"], root[\"react/addons\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Ars Arsenal\n\t * A gallery picker\n\t */\n\t\n\t/**\n\t * All necessary polyfills\n\t */\n\t\n\t__webpack_require__(17)\n\t\n\t\n\t/**\n\t * Style information compiled via Webpack\n\t */\n\t\n\t__webpack_require__(26)\n\t\n\tvar React = __webpack_require__(1)\n\tvar Ars   = __webpack_require__(7)\n\t\n\tmodule.exports = {\n\t  component : Ars,\n\t  render    : function(el, options) {\n\t    React.render(React.createElement(Ars, React.__spread({},   options )), el)\n\t  }\n\t}\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Button\n\t */\n\t\n\tvar React = __webpack_require__(2)\n\tvar Types = React.PropTypes\n\tvar cx    = React.addons.classSet\n\t\n\tvar Button = React.createClass({displayName: 'Button',\n\t\n\t  getDefaultProps:function() {\n\t    return {\n\t      raised : false\n\t    }\n\t  },\n\t\n\t  getClassName:function(base) {\n\t    var mods = cx({\n\t      'ars-button' : true,\n\t      'ars-button-raised' : this.props.raised\n\t    })\n\t\n\t    return cx(base, mods)\n\t  },\n\t\n\t  render:function() {\n\t    var $__0=     this.props,className=$__0.className,children=$__0.children,attrs=(function(source, exclusion) {var rest = {};var hasOwn = Object.prototype.hasOwnProperty;if (source == null) {throw new TypeError();}for (var key in source) {if (hasOwn.call(source, key) && !hasOwn.call(exclusion, key)) {rest[key] = source[key];}}return rest;})($__0,{className:1,children:1})\n\t\n\t    return (\n\t      React.createElement(\"button\", React.__spread({className:  this.getClassName(className) },   attrs ), \n\t        children \n\t      )\n\t    )\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Button\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Image\n\t * A wrapper around image elements to handle loading states\n\t * and transitions\n\t */\n\t\n\tvar React = __webpack_require__(2)\n\tvar cx    = React.addons.classSet\n\t\n\tvar Image = React.createClass({displayName: 'Image',\n\t\n\t  getInitialState:function() {\n\t    return {\n\t      isLoaded: false\n\t    }\n\t  },\n\t\n\t  getClassName:function(root) {\n\t    var base   = cx('ars-img', root)\n\t    var states = cx({\n\t      'ars-img-loaded' : this.state.isLoaded\n\t    })\n\t\n\t    return cx(base, states)\n\t  },\n\t\n\t  render:function() {\n\t    var $__0=     this.props,className=$__0.className,onLoad=$__0.onLoad,props=(function(source, exclusion) {var rest = {};var hasOwn = Object.prototype.hasOwnProperty;if (source == null) {throw new TypeError();}for (var key in source) {if (hasOwn.call(source, key) && !hasOwn.call(exclusion, key)) {rest[key] = source[key];}}return rest;})($__0,{className:1,onLoad:1})\n\t\n\t    return React.createElement(\"img\", React.__spread({className:  this.getClassName(className), onLoad:  this._onLoad},  props ))\n\t  },\n\t\n\t  _onLoad:function() {\n\t    this.setState({ isLoaded: true })\n\t\n\t    if (this.props.onLoad) {\n\t      this.props.onLoad()\n\t    }\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Image\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Photo\n\t * The resource responsible for fetching and managing operations related to\n\t * the API endpoint for images.\n\t */\n\t\n\tvar xhr = __webpack_require__(19)\n\t\n\tvar Photo = {\n\t\n\t  fetch:function(url, success, error) {\n\t    var request = xhr({ url:url, json: true }, function(err, response, body) {\n\t      err ? error(err) : success(body)\n\t    })\n\t\n\t    return request\n\t  },\n\t\n\t  filter:function(items, query) {\n\t    var pattern = new RegExp(query, 'i')\n\t\n\t    return query ? items.filter(function(i)  {return i.caption.match(pattern);}) : items\n\t  },\n\t\n\t  find:function(items, id) {\n\t    if (id == void 0) return null\n\t\n\t    return items.find(function(i)  {return i.id.toString() === id.toString();})\n\t  },\n\t\n\t  datalist:function(items) {\n\t    return items.map(function(i)  {return i.caption;})\n\t  }\n\t\n\t}\n\t\n\tmodule.exports = Photo\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Array.prototype.find - MIT License (c) 2013 Paul Miller <http://paulmillr.com>\n\t// For all details and docs: https://github.com/paulmillr/array.prototype.find\n\t// Fixes and tests supplied by Duncan Hall <http://duncanhall.net> \n\t(function(globals){\n\t  if (Array.prototype.find) return;\n\t\n\t  var find = function(predicate) {\n\t    var list = Object(this);\n\t    var length = list.length < 0 ? 0 : list.length >>> 0; // ES.ToUint32;\n\t    if (length === 0) return undefined;\n\t    if (typeof predicate !== 'function' || Object.prototype.toString.call(predicate) !== '[object Function]') {\n\t      throw new TypeError('Array#find: predicate must be a function');\n\t    }\n\t    var thisArg = arguments[1];\n\t    for (var i = 0, value; i < length; i++) {\n\t      value = list[i];\n\t      if (predicate.call(thisArg, value, i, list)) return value;\n\t    }\n\t    return undefined;\n\t  };\n\t\n\t  if (Object.defineProperty) {\n\t    try {\n\t      Object.defineProperty(Array.prototype, 'find', {\n\t        value: find, configurable: true, enumerable: false, writable: true\n\t      });\n\t    } catch(e) {}\n\t  }\n\t\n\t  if (!Array.prototype.find) {\n\t    Array.prototype.find = find;\n\t  }\n\t})(this);\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Ars\n\t * The main element for Ars Arsenal\n\t */\n\t\n\tvar Picker    = __webpack_require__(10)\n\tvar Photo     = __webpack_require__(5)\n\tvar React     = __webpack_require__(1)\n\tvar Selection = __webpack_require__(12)\n\tvar Sync      = __webpack_require__(15)\n\tvar Types     = React.PropTypes\n\t\n\tvar Ars = React.createClass({displayName: 'Ars',\n\t\n\t  mixins: [ Sync ],\n\t\n\t  propTypes: {\n\t    url      : Types.string.isRequired,\n\t    onChange : Types.func\n\t  },\n\t\n\t  getDefaultProps:function() {\n\t    return {\n\t      onChange : function()  {},\n\t      picked   : null\n\t    }\n\t  },\n\t\n\t  getInitialState:function() {\n\t    return {\n\t      dialogOpen : false,\n\t      picked     : this.props.picked,\n\t      search     : ''\n\t    }\n\t  },\n\t\n\t  getPicker:function() {\n\t    var $__0=       this.state,error=$__0.error,items=$__0.items,search=$__0.search,picked=$__0.picked\n\t\n\t    var allowed  = Photo.filter(items, search)\n\t\n\t    return (\n\t      React.createElement(Picker, {error: error, \n\t              items: allowed, \n\t              key: \"dialog\", \n\t              onSearch:  this._onSearchChange, \n\t              onChange:  this._onGalleryPicked, \n\t              onExit:  this._onExit, \n\t              picked: picked })\n\t    )\n\t  },\n\t\n\t  render:function() {\n\t    var $__0=       this.state,dialogOpen=$__0.dialogOpen,items=$__0.items,picked=$__0.picked,search=$__0.search\n\t\n\t    var record = Photo.find(items, picked)\n\t\n\t    return (\n\t      React.createElement(\"div\", {className: \"ars\"}, \n\t        React.createElement(Selection, {onClick:  this._onOpenClick, photo: record }), \n\t         dialogOpen && this.getPicker()\n\t      )\n\t    )\n\t  },\n\t\n\t  _onOpenClick:function() {\n\t    this.setState({ dialogOpen: true, search: null })\n\t  },\n\t\n\t  _onSearchChange:function(search) {\n\t    this.setState({ search:search })\n\t  },\n\t\n\t  _onGalleryPicked:function(picked) {\n\t    this.setState({ picked:picked }, function()  {return this.props.onChange(this.state.picked);}.bind(this))\n\t  },\n\t\n\t  _onExit:function() {\n\t    this.setState({ dialogOpen: false, search: null })\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Ars\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Figure\n\t * An individual gallery tile\n\t */\n\t\n\tvar Image = __webpack_require__(4)\n\tvar React = __webpack_require__(2)\n\tvar Types = React.PropTypes\n\tvar cx    = React.addons.classSet\n\t\n\tvar Figure = React.createClass({displayName: 'Figure',\n\t\n\t  propTypes: {\n\t    record  : Types.object.isRequired,\n\t    onClick : Types.func.isRequired,\n\t    picked  : Types.bool\n\t  },\n\t\n\t  render:function() {\n\t    var $__0=     this.props,record=$__0.record,picked=$__0.picked\n\t\n\t    var className = cx({\n\t      'ars-fig'        : true,\n\t      'ars-fig-picked' : picked\n\t    })\n\t\n\t    return (\n\t      React.createElement(\"button\", {className: className, onClick:  this._onClick}, \n\t        React.createElement(Image, {className: \"ars-fig-img\", src:  record.url}), \n\t\n\t        React.createElement(\"span\", {className: \"ars-fig-caption\"}, \n\t           record.caption\n\t        )\n\t      )\n\t    )\n\t  },\n\t\n\t  _onClick:function(e) {\n\t    e.preventDefault()\n\t    this.props.onClick(this.props.record.id)\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Figure\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Gallery\n\t * Displays tiles of photos\n\t */\n\t\n\tvar React     = __webpack_require__(2)\n\tvar Animation = React.addons.CSSTransitionGroup\n\tvar Figure    = __webpack_require__(8)\n\tvar Types     = React.PropTypes\n\t\n\tvar Gallery = React.createClass({displayName: 'Gallery',\n\t\n\t  propTypes: {\n\t    items    : Types.array,\n\t    onPicked : Types.func.isRequired\n\t  },\n\t\n\t  getDefaultProps:function() {\n\t    return {\n\t      items  : [],\n\t      picked : false\n\t    }\n\t  },\n\t\n\t  getItem:function(record) {\n\t    var isPicked = record.id === this.props.picked\n\t\n\t    return (\n\t      React.createElement(Figure, {key:  'photo_' + record.id, picked: isPicked, record: record, onClick:  this.props.onPicked})\n\t    )\n\t  },\n\t\n\t  render:function() {\n\t    return (\n\t      React.createElement(Animation, {component: \"div\", className: \"ars-gallery\", transitionName: \"ars-fig\", onKeyDown:  this.props.onKeyDown}, \n\t         this.props.items.map(this.getItem) \n\t      )\n\t    )\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Gallery\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Picker\n\t * The a modal that appears to select a gallery image\n\t */\n\t\n\tvar Button  = __webpack_require__(3)\n\tvar Dialog  = __webpack_require__(13)\n\tvar Gallery = __webpack_require__(9)\n\tvar React   = __webpack_require__(1)\n\tvar Search  = __webpack_require__(11)\n\tvar Types   = React.PropTypes\n\t\n\tvar Picker = React.createClass({displayName: 'Picker',\n\t\n\t  propTypes: {\n\t    onChange : Types.func.isRequired,\n\t    onExit   : Types.func.isRequired,\n\t    onSearch : Types.func.isRequired\n\t  },\n\t\n\t  getDefaultProps:function() {\n\t    return {\n\t      items  : [],\n\t      picked : false\n\t    }\n\t  },\n\t\n\t  getInitialState:function() {\n\t    return {\n\t      picked: this.props.picked\n\t    }\n\t  },\n\t\n\t  confirm:function() {\n\t    this.props.onChange(this.state.picked)\n\t    this.props.onExit()\n\t  },\n\t\n\t  cancel:function() {\n\t    this.props.onExit()\n\t  },\n\t\n\t  getError:function() {\n\t    var error = this.props.error\n\t\n\t    return error ? (\n\t      React.createElement(\"p\", {className: \"ars-error\"}, error )\n\t    ) : null\n\t  },\n\t\n\t  render:function() {\n\t    var $__0=        this.props,error=$__0.error,items=$__0.items,onSearch=$__0.onSearch,onChange=$__0.onChange,search=$__0.search\n\t\n\t    return (\n\t      React.createElement(Dialog, {onExit:  this.props.onExit}, \n\t\n\t        React.createElement(\"header\", {className: \"ars-dialog-header\"}, \n\t          React.createElement(\"h1\", {className: \"ars-dialog-title\"}, \"Please select a photo\"), \n\t          React.createElement(Search, {key: \"search\", onChange: onSearch })\n\t        ), \n\t\n\t         this.getError(), \n\t\n\t        React.createElement(Gallery, {items: items, picked:  this.state.picked, onPicked:  this._onPicked, onKeyDown:  this._onKeyDown}), \n\t\n\t        React.createElement(\"footer\", {className: \"ars-dialog-footer\"}, \n\t          React.createElement(Button, {onClick:  this.props.onExit}, \"Cancel\"), \n\t          React.createElement(Button, {onClick:  this._onConfirm, raised: true}, \"Okay\")\n\t        )\n\t\n\t      )\n\t    )\n\t  },\n\t\n\t  _onPicked:function(picked) {\n\t    this.setState({ picked:picked })\n\t  },\n\t\n\t  _onCancel:function(e) {\n\t    e.preventDefault()\n\t    this.cancel()\n\t  },\n\t\n\t  _onConfirm:function(e) {\n\t    e.preventDefault()\n\t    this.confirm()\n\t  },\n\t\n\t  _onKeyDown:function(e) {\n\t    if (e.key === 'Enter' && (e.metaKey || e.ctrlKey)) {\n\t      this.confirm()\n\t    }\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Picker\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Search\n\t */\n\t\n\tvar React    = __webpack_require__(1)\n\tvar Types    = React.PropTypes\n\tvar UniqueID = __webpack_require__(16)\n\t\n\t// The minimum number of characters before searching\n\tvar THRESHOLD = 2\n\t\n\tvar Search = React.createClass({displayName: 'Search',\n\t\n\t  mixins: [ UniqueID ],\n\t\n\t  propTypes: {\n\t    onChange : Types.func.isRequired\n\t  },\n\t\n\t  render:function() {\n\t    var id = \"ars_search_\" + this.state.id\n\t\n\t    return (\n\t      React.createElement(\"div\", {className: \"ars-search\"}, \n\t        React.createElement(\"label\", {className: \"ars-search-label\", htmlFor: id }, \"Search\"), \n\t        React.createElement(\"input\", {id: id, ref: \"input\", type: \"search\", className: \"ars-search-input\", onChange:  this._onChange, placeholder: \"Search\"})\n\t      )\n\t    )\n\t  },\n\t\n\t  _onChange:function(e) {\n\t    var query  = this.refs.input.getDOMNode().value || ''\n\t    var result = query.length >= THRESHOLD ? query : ''\n\t\n\t    this.props.onChange(result)\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Search\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Selection\n\t */\n\t\n\tvar Button = __webpack_require__(3)\n\tvar Image  = __webpack_require__(4)\n\tvar React  = __webpack_require__(1)\n\t\n\tvar SHOULD_SELECT = 'Select an image'\n\tvar PICK_ANOTHER  = 'Choose another image'\n\t\n\tvar Selection = React.createClass({displayName: 'Selection',\n\t\n\t  getPhoto:function() {\n\t    var $__0=     this.props.photo,caption=$__0.caption,url=$__0.url\n\t\n\t    return (\n\t      React.createElement(Image, {className: \"ars-selection-photo\", alt: caption, src: url })\n\t    )\n\t  },\n\t\n\t  render:function() {\n\t    var hasPhoto = this.props.photo\n\t\n\t    return (\n\t      React.createElement(Button, {className: \"ars-selection\", onClick:  this._onClick}, \n\t         hasPhoto && this.getPhoto(), \n\t\n\t        React.createElement(\"span\", {className: \"ars-selection-caption\"}, \n\t           hasPhoto ? PICK_ANOTHER : SHOULD_SELECT\n\t        )\n\t      )\n\t    )\n\t  },\n\t\n\t  _onClick:function(e) {\n\t    e.preventDefault()\n\t    this.props.onClick(e)\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Selection\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Dialog\n\t * A reuseable modal\n\t */\n\t\n\tvar Focus = __webpack_require__(14)\n\tvar React = __webpack_require__(1)\n\t\n\tvar Types = React.PropTypes\n\t\n\tvar Dialog = React.createClass({displayName: 'Dialog',\n\t\n\t  mixins: [ Focus ],\n\t\n\t  propTypes: {\n\t    onExit : Types.func.isRequired,\n\t  },\n\t\n\t  render:function() {\n\t    return (\n\t      React.createElement(\"div\", {className: \"ars-dialog\", tabIndex: \"0\", role: \"dialog\", onKeyUp:  this._onKeyUp}, \n\t\n\t        React.createElement(\"div\", {className: \"ars-dialog-blackout\", 'aria-hidden': true, onClick:  this.props.onExit}), \n\t\n\t        React.createElement(\"section\", {className: \"ars-dialog-inner\"}, \n\t           this.props.children\n\t        )\n\t\n\t      )\n\t    )\n\t  },\n\t\n\t  _onKeyUp:function(e) {\n\t    if (e.key === 'Escape') {\n\t      this.props.onExit()\n\t    }\n\t  }\n\t\n\t})\n\t\n\tmodule.exports = Dialog\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Focus\n\t *\n\t * For accessibility, this mixin focuses on mount and returns focus\n\t * when it is unmounted\n\t */\n\t\n\tmodule.exports = {\n\t\n\t  _pushFocus:function() {\n\t    this.setState({\n\t      previousFocus: document.activeElement\n\t    })\n\t\n\t    this.getDOMNode().focus()\n\t  },\n\t\n\t  _popFocus:function() {\n\t    if (this.state.previousFocus) {\n\t      this.state.previousFocus.focus()\n\t      this._clearTrap()\n\t    }\n\t  },\n\t\n\t  // trap keyboard focus within modal\n\t  // via http://www.nczonline.net/blog/2013/02/12/making-an-accessible-dialog-box/\n\t  _trapFocus:function() {\n\t    this._focusTimer = setTimeout(function(_)  {return this.getDOMNode().focus();}.bind(this), 10)\n\t  },\n\t\n\t  _clearTrap: function() {\n\t    clearTimeout(this._focusTimer);\n\t  },\n\t\n\t  componentDidMount:function() {\n\t    var el = this.getDOMNode()\n\t\n\t    el.addEventListener('focusin', this._clearTrap);\n\t    el.addEventListener('focusout', this._trapFocus);\n\t\n\t    this._pushFocus()\n\t  },\n\t\n\t  componentWillUnmount:function() {\n\t    var el = this.getDOMNode()\n\t\n\t    this._popFocus()\n\t\n\t    el.removeEventListener('focusin', this._clearTrap);\n\t    el.removeEventListener('focusout', this._trapFocus);\n\t  }\n\t\n\t}\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Sync Mixin\n\t * Encapsulates data operations required for retrieving photos\n\t */\n\t\n\tvar Photo = __webpack_require__(5)\n\tvar Types = __webpack_require__(1).PropTypes\n\t\n\tmodule.exports = {\n\t\n\t  propTypes: {\n\t    onFetch : Types.func\n\t  },\n\t\n\t  getDefaultProps:function() {\n\t    return {\n\t      onFetch : function(data)  {return data;}\n\t    }\n\t  },\n\t\n\t  getInitialState:function() {\n\t    return {\n\t      items : [],\n\t      error : false\n\t    }\n\t  },\n\t\n\t  componentWillMount:function() {\n\t    Photo.fetch(this.props.url, this.responseDidSucceed, this.responseDidFail)\n\t  },\n\t\n\t  responseDidSucceed:function(raw) {\n\t    var items = this.props.onFetch(raw)\n\t\n\t    this.setState({ items:items, error: false })\n\t  },\n\t\n\t  responseDidFail:function(error) {\n\t    this.setState({ error:error })\n\t  }\n\t\n\t}\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * UniqueID\n\t * Provides a unique identifier for components\n\t */\n\t\n\tvar _id = 0\n\t\n\tmodule.exports = {\n\t\n\t  getInitialState:function() {\n\t    return {\n\t      id: 'c' + _id++\n\t    }\n\t  }\n\t\n\t}\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Polyfill Object.assign for splat arguments\n\tif (!Object.assign) {\n\t  Object.assign = __webpack_require__(18);\n\t}\n\t\n\t// Polyfill Array.prototype.find for easy record retrieval\n\t__webpack_require__(6)\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tfunction ToObject(val) {\n\t\tif (val == null) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tmodule.exports = Object.assign || function (target, source) {\n\t\tvar from;\n\t\tvar keys;\n\t\tvar to = ToObject(target);\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = arguments[s];\n\t\t\tkeys = Object.keys(Object(from));\n\t\n\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\tto[keys[i]] = from[keys[i]];\n\t\t\t}\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar window = __webpack_require__(20)\n\tvar once = __webpack_require__(21)\n\tvar parseHeaders = __webpack_require__(25)\n\t\n\tvar messages = {\n\t    \"0\": \"Internal XMLHttpRequest Error\",\n\t    \"4\": \"4xx Client Error\",\n\t    \"5\": \"5xx Server Error\"\n\t}\n\t\n\tvar XHR = window.XMLHttpRequest || noop\n\tvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\t\n\tmodule.exports = createXHR\n\t\n\tfunction createXHR(options, callback) {\n\t    if (typeof options === \"string\") {\n\t        options = { uri: options }\n\t    }\n\t\n\t    options = options || {}\n\t    callback = once(callback)\n\t\n\t    var xhr = options.xhr || null\n\t\n\t    if (!xhr) {\n\t        if (options.cors || options.useXDR) {\n\t            xhr = new XDR()\n\t        }else{\n\t            xhr = new XHR()\n\t        }\n\t    }\n\t\n\t    var uri = xhr.url = options.uri || options.url\n\t    var method = xhr.method = options.method || \"GET\"\n\t    var body = options.body || options.data\n\t    var headers = xhr.headers = options.headers || {}\n\t    var sync = !!options.sync\n\t    var isJson = false\n\t    var key\n\t    var load = options.response ? loadResponse : loadXhr\n\t\n\t    if (\"json\" in options) {\n\t        isJson = true\n\t        headers[\"Accept\"] = \"application/json\"\n\t        if (method !== \"GET\" && method !== \"HEAD\") {\n\t            headers[\"Content-Type\"] = \"application/json\"\n\t            body = JSON.stringify(options.json)\n\t        }\n\t    }\n\t\n\t    xhr.onreadystatechange = readystatechange\n\t    xhr.onload = load\n\t    xhr.onerror = error\n\t    // IE9 must have onprogress be set to a unique function.\n\t    xhr.onprogress = function () {\n\t        // IE must die\n\t    }\n\t    // hate IE\n\t    xhr.ontimeout = noop\n\t    xhr.open(method, uri, !sync)\n\t                                    //backward compatibility\n\t    if (options.withCredentials || (options.cors && options.withCredentials !== false)) {\n\t        xhr.withCredentials = true\n\t    }\n\t\n\t    // Cannot set timeout with sync request\n\t    if (!sync) {\n\t        xhr.timeout = \"timeout\" in options ? options.timeout : 5000\n\t    }\n\t\n\t    if (xhr.setRequestHeader) {\n\t        for(key in headers){\n\t            if(headers.hasOwnProperty(key)){\n\t                xhr.setRequestHeader(key, headers[key])\n\t            }\n\t        }\n\t    } else if (options.headers) {\n\t        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n\t    }\n\t\n\t    if (\"responseType\" in options) {\n\t        xhr.responseType = options.responseType\n\t    }\n\t    \n\t    if (\"beforeSend\" in options && \n\t        typeof options.beforeSend === \"function\"\n\t    ) {\n\t        options.beforeSend(xhr)\n\t    }\n\t\n\t    xhr.send(body)\n\t\n\t    return xhr\n\t\n\t    function readystatechange() {\n\t        if (xhr.readyState === 4) {\n\t            load()\n\t        }\n\t    }\n\t\n\t    function getBody() {\n\t        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n\t        var body = null\n\t\n\t        if (xhr.response) {\n\t            body = xhr.response\n\t        } else if (xhr.responseType === 'text' || !xhr.responseType) {\n\t            body = xhr.responseText || xhr.responseXML\n\t        }\n\t\n\t        if (isJson) {\n\t            try {\n\t                body = JSON.parse(body)\n\t            } catch (e) {}\n\t        }\n\t\n\t        return body\n\t    }\n\t\n\t    function getStatusCode() {\n\t        return xhr.status === 1223 ? 204 : xhr.status\n\t    }\n\t\n\t    // if we're getting a none-ok statusCode, build & return an error\n\t    function errorFromStatusCode(status) {\n\t        var error = null\n\t        if (status === 0 || (status >= 400 && status < 600)) {\n\t            var message = (typeof body === \"string\" ? body : false) ||\n\t                messages[String(status).charAt(0)]\n\t            error = new Error(message)\n\t            error.statusCode = status\n\t        }\n\t\n\t        return error\n\t    }\n\t\n\t    // will load the data & process the response in a special response object\n\t    function loadResponse() {\n\t        var status = getStatusCode()\n\t        var error = errorFromStatusCode(status)\n\t        var response = {\n\t            body: getBody(),\n\t            statusCode: status,\n\t            statusText: xhr.statusText,\n\t            raw: xhr\n\t        }\n\t        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n\t            response.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t        } else {\n\t            response.headers = {}\n\t        }\n\t\n\t        callback(error, response, response.body)\n\t    }\n\t\n\t    // will load the data and add some response properties to the source xhr\n\t    // and then respond with that\n\t    function loadXhr() {\n\t        var status = getStatusCode()\n\t        var error = errorFromStatusCode(status)\n\t\n\t        xhr.status = xhr.statusCode = status\n\t        xhr.body = getBody()\n\t        xhr.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t\n\t        callback(error, xhr, xhr.body)\n\t    }\n\t\n\t    function error(evt) {\n\t        callback(evt, xhr)\n\t    }\n\t}\n\t\n\t\n\tfunction noop() {}\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {if (typeof window !== \"undefined\") {\n\t    module.exports = window;\n\t} else if (typeof global !== \"undefined\") {\n\t    module.exports = global;\n\t} else if (typeof self !== \"undefined\"){\n\t    module.exports = self;\n\t} else {\n\t    module.exports = {};\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = once\n\t\n\tonce.proto = once(function () {\n\t  Object.defineProperty(Function.prototype, 'once', {\n\t    value: function () {\n\t      return once(this)\n\t    },\n\t    configurable: true\n\t  })\n\t})\n\t\n\tfunction once (fn) {\n\t  var called = false\n\t  return function () {\n\t    if (called) return\n\t    called = true\n\t    return fn.apply(this, arguments)\n\t  }\n\t}\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isFunction = __webpack_require__(23)\n\t\n\tmodule.exports = forEach\n\t\n\tvar toString = Object.prototype.toString\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty\n\t\n\tfunction forEach(list, iterator, context) {\n\t    if (!isFunction(iterator)) {\n\t        throw new TypeError('iterator must be a function')\n\t    }\n\t\n\t    if (arguments.length < 3) {\n\t        context = this\n\t    }\n\t    \n\t    if (toString.call(list) === '[object Array]')\n\t        forEachArray(list, iterator, context)\n\t    else if (typeof list === 'string')\n\t        forEachString(list, iterator, context)\n\t    else\n\t        forEachObject(list, iterator, context)\n\t}\n\t\n\tfunction forEachArray(array, iterator, context) {\n\t    for (var i = 0, len = array.length; i < len; i++) {\n\t        if (hasOwnProperty.call(array, i)) {\n\t            iterator.call(context, array[i], i, array)\n\t        }\n\t    }\n\t}\n\t\n\tfunction forEachString(string, iterator, context) {\n\t    for (var i = 0, len = string.length; i < len; i++) {\n\t        // no such thing as a sparse string.\n\t        iterator.call(context, string.charAt(i), i, string)\n\t    }\n\t}\n\t\n\tfunction forEachObject(object, iterator, context) {\n\t    for (var k in object) {\n\t        if (hasOwnProperty.call(object, k)) {\n\t            iterator.call(context, object[k], k, object)\n\t        }\n\t    }\n\t}\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = isFunction\n\t\n\tvar toString = Object.prototype.toString\n\t\n\tfunction isFunction (fn) {\n\t  var string = toString.call(fn)\n\t  return string === '[object Function]' ||\n\t    (typeof fn === 'function' && string !== '[object RegExp]') ||\n\t    (typeof window !== 'undefined' &&\n\t     // IE8 and below\n\t     (fn === window.setTimeout ||\n\t      fn === window.alert ||\n\t      fn === window.confirm ||\n\t      fn === window.prompt))\n\t};\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\texports = module.exports = trim;\n\t\n\tfunction trim(str){\n\t  return str.replace(/^\\s*|\\s*$/g, '');\n\t}\n\t\n\texports.left = function(str){\n\t  return str.replace(/^\\s*/, '');\n\t};\n\t\n\texports.right = function(str){\n\t  return str.replace(/\\s*$/, '');\n\t};\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar trim = __webpack_require__(24)\n\t  , forEach = __webpack_require__(22)\n\t  , isArray = function(arg) {\n\t      return Object.prototype.toString.call(arg) === '[object Array]';\n\t    }\n\t\n\tmodule.exports = function (headers) {\n\t  if (!headers)\n\t    return {}\n\t\n\t  var result = {}\n\t\n\t  forEach(\n\t      trim(headers).split('\\n')\n\t    , function (row) {\n\t        var index = row.indexOf(':')\n\t          , key = trim(row.slice(0, index)).toLowerCase()\n\t          , value = trim(row.slice(index + 1))\n\t\n\t        if (typeof(result[key]) === 'undefined') {\n\t          result[key] = value\n\t        } else if (isArray(result[key])) {\n\t          result[key].push(value)\n\t        } else {\n\t          result[key] = [ result[key], value ]\n\t        }\n\t      }\n\t  )\n\t\n\t  return result\n\t}\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ])\n});\n\n\n\n/** WEBPACK FOOTER **\n ** build/js/ars-arsenal.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 34268866c5f1840f9670\n **/","/**\n * Ars Arsenal\n * A gallery picker\n */\n\n/**\n * All necessary polyfills\n */\n\nrequire('./patch')\n\n\n/**\n * Style information compiled via Webpack\n */\n\nrequire('style/ars-arsenal')\n\nvar React = require('react')\nvar Ars   = require('./components/ars')\n\nmodule.exports = {\n  component : Ars,\n  render    : function(el, options) {\n    React.render(React.createElement(Ars, React.__spread({},   options )), el)\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react/addons\"\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * Button\n */\n\nvar React = require('react/addons')\nvar Types = React.PropTypes\nvar cx    = React.addons.classSet\n\nvar Button = React.createClass({displayName: 'Button',\n\n  getDefaultProps:function() {\n    return {\n      raised : false\n    }\n  },\n\n  getClassName:function(base) {\n    var mods = cx({\n      'ars-button' : true,\n      'ars-button-raised' : this.props.raised\n    })\n\n    return cx(base, mods)\n  },\n\n  render:function() {\n    var $__0=     this.props,className=$__0.className,children=$__0.children,attrs=(function(source, exclusion) {var rest = {};var hasOwn = Object.prototype.hasOwnProperty;if (source == null) {throw new TypeError();}for (var key in source) {if (hasOwn.call(source, key) && !hasOwn.call(exclusion, key)) {rest[key] = source[key];}}return rest;})($__0,{className:1,children:1})\n\n    return (\n      React.createElement(\"button\", React.__spread({className:  this.getClassName(className) },   attrs ), \n        children \n      )\n    )\n  }\n\n})\n\nmodule.exports = Button\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/ui/button.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * Image\n * A wrapper around image elements to handle loading states\n * and transitions\n */\n\nvar React = require('react/addons')\nvar cx    = React.addons.classSet\n\nvar Image = React.createClass({displayName: 'Image',\n\n  getInitialState:function() {\n    return {\n      isLoaded: false\n    }\n  },\n\n  getClassName:function(root) {\n    var base   = cx('ars-img', root)\n    var states = cx({\n      'ars-img-loaded' : this.state.isLoaded\n    })\n\n    return cx(base, states)\n  },\n\n  render:function() {\n    var $__0=     this.props,className=$__0.className,onLoad=$__0.onLoad,props=(function(source, exclusion) {var rest = {};var hasOwn = Object.prototype.hasOwnProperty;if (source == null) {throw new TypeError();}for (var key in source) {if (hasOwn.call(source, key) && !hasOwn.call(exclusion, key)) {rest[key] = source[key];}}return rest;})($__0,{className:1,onLoad:1})\n\n    return React.createElement(\"img\", React.__spread({className:  this.getClassName(className), onLoad:  this._onLoad},  props ))\n  },\n\n  _onLoad:function() {\n    this.setState({ isLoaded: true })\n\n    if (this.props.onLoad) {\n      this.props.onLoad()\n    }\n  }\n\n})\n\nmodule.exports = Image\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/ui/image.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\n * Photo\n * The resource responsible for fetching and managing operations related to\n * the API endpoint for images.\n */\n\nvar xhr = require('xhr')\n\nvar Photo = {\n\n  fetch:function(url, success, error) {\n    var request = xhr({ url:url, json: true }, function(err, response, body) {\n      err ? error(err) : success(body)\n    })\n\n    return request\n  },\n\n  filter:function(items, query) {\n    var pattern = new RegExp(query, 'i')\n\n    return query ? items.filter(function(i)  {return i.caption.match(pattern);}) : items\n  },\n\n  find:function(items, id) {\n    if (id == void 0) return null\n\n    return items.find(function(i)  {return i.id.toString() === id.toString();})\n  },\n\n  datalist:function(items) {\n    return items.map(function(i)  {return i.caption;})\n  }\n\n}\n\nmodule.exports = Photo\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/stores/photo.js\n ** module id = 5\n ** module chunks = 0\n **/","// Array.prototype.find - MIT License (c) 2013 Paul Miller <http://paulmillr.com>\n// For all details and docs: https://github.com/paulmillr/array.prototype.find\n// Fixes and tests supplied by Duncan Hall <http://duncanhall.net> \n(function(globals){\n  if (Array.prototype.find) return;\n\n  var find = function(predicate) {\n    var list = Object(this);\n    var length = list.length < 0 ? 0 : list.length >>> 0; // ES.ToUint32;\n    if (length === 0) return undefined;\n    if (typeof predicate !== 'function' || Object.prototype.toString.call(predicate) !== '[object Function]') {\n      throw new TypeError('Array#find: predicate must be a function');\n    }\n    var thisArg = arguments[1];\n    for (var i = 0, value; i < length; i++) {\n      value = list[i];\n      if (predicate.call(thisArg, value, i, list)) return value;\n    }\n    return undefined;\n  };\n\n  if (Object.defineProperty) {\n    try {\n      Object.defineProperty(Array.prototype, 'find', {\n        value: find, configurable: true, enumerable: false, writable: true\n      });\n    } catch(e) {}\n  }\n\n  if (!Array.prototype.find) {\n    Array.prototype.find = find;\n  }\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/array.prototype.find/index.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\n * Ars\n * The main element for Ars Arsenal\n */\n\nvar Picker    = require('./picker')\nvar Photo     = require('../stores/photo')\nvar React     = require('react')\nvar Selection = require('./selection')\nvar Sync      = require('../mixins/sync')\nvar Types     = React.PropTypes\n\nvar Ars = React.createClass({displayName: 'Ars',\n\n  mixins: [ Sync ],\n\n  propTypes: {\n    url      : Types.string.isRequired,\n    onChange : Types.func\n  },\n\n  getDefaultProps:function() {\n    return {\n      onChange : function()  {},\n      picked   : null\n    }\n  },\n\n  getInitialState:function() {\n    return {\n      dialogOpen : false,\n      picked     : this.props.picked,\n      search     : ''\n    }\n  },\n\n  getPicker:function() {\n    var $__0=       this.state,error=$__0.error,items=$__0.items,search=$__0.search,picked=$__0.picked\n\n    var allowed  = Photo.filter(items, search)\n\n    return (\n      React.createElement(Picker, {error: error, \n              items: allowed, \n              key: \"dialog\", \n              onSearch:  this._onSearchChange, \n              onChange:  this._onGalleryPicked, \n              onExit:  this._onExit, \n              picked: picked })\n    )\n  },\n\n  render:function() {\n    var $__0=       this.state,dialogOpen=$__0.dialogOpen,items=$__0.items,picked=$__0.picked,search=$__0.search\n\n    var record = Photo.find(items, picked)\n\n    return (\n      React.createElement(\"div\", {className: \"ars\"}, \n        React.createElement(Selection, {onClick:  this._onOpenClick, photo: record }), \n         dialogOpen && this.getPicker()\n      )\n    )\n  },\n\n  _onOpenClick:function() {\n    this.setState({ dialogOpen: true, search: null })\n  },\n\n  _onSearchChange:function(search) {\n    this.setState({ search:search })\n  },\n\n  _onGalleryPicked:function(picked) {\n    this.setState({ picked:picked }, function()  {return this.props.onChange(this.state.picked);}.bind(this))\n  },\n\n  _onExit:function() {\n    this.setState({ dialogOpen: false, search: null })\n  }\n\n})\n\nmodule.exports = Ars\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/ars.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * Figure\n * An individual gallery tile\n */\n\nvar Image = require('./ui/image')\nvar React = require('react/addons')\nvar Types = React.PropTypes\nvar cx    = React.addons.classSet\n\nvar Figure = React.createClass({displayName: 'Figure',\n\n  propTypes: {\n    record  : Types.object.isRequired,\n    onClick : Types.func.isRequired,\n    picked  : Types.bool\n  },\n\n  render:function() {\n    var $__0=     this.props,record=$__0.record,picked=$__0.picked\n\n    var className = cx({\n      'ars-fig'        : true,\n      'ars-fig-picked' : picked\n    })\n\n    return (\n      React.createElement(\"button\", {className: className, onClick:  this._onClick}, \n        React.createElement(Image, {className: \"ars-fig-img\", src:  record.url}), \n\n        React.createElement(\"span\", {className: \"ars-fig-caption\"}, \n           record.caption\n        )\n      )\n    )\n  },\n\n  _onClick:function(e) {\n    e.preventDefault()\n    this.props.onClick(this.props.record.id)\n  }\n\n})\n\nmodule.exports = Figure\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/figure.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * Gallery\n * Displays tiles of photos\n */\n\nvar React     = require('react/addons')\nvar Animation = React.addons.CSSTransitionGroup\nvar Figure    = require('./figure')\nvar Types     = React.PropTypes\n\nvar Gallery = React.createClass({displayName: 'Gallery',\n\n  propTypes: {\n    items    : Types.array,\n    onPicked : Types.func.isRequired\n  },\n\n  getDefaultProps:function() {\n    return {\n      items  : [],\n      picked : false\n    }\n  },\n\n  getItem:function(record) {\n    var isPicked = record.id === this.props.picked\n\n    return (\n      React.createElement(Figure, {key:  'photo_' + record.id, picked: isPicked, record: record, onClick:  this.props.onPicked})\n    )\n  },\n\n  render:function() {\n    return (\n      React.createElement(Animation, {component: \"div\", className: \"ars-gallery\", transitionName: \"ars-fig\", onKeyDown:  this.props.onKeyDown}, \n         this.props.items.map(this.getItem) \n      )\n    )\n  }\n\n})\n\nmodule.exports = Gallery\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/gallery.js\n ** module id = 9\n ** module chunks = 0\n **/","/**\n * Picker\n * The a modal that appears to select a gallery image\n */\n\nvar Button  = require('./ui/button')\nvar Dialog  = require('./ui/dialog')\nvar Gallery = require('./gallery')\nvar React   = require('react')\nvar Search  = require('./search')\nvar Types   = React.PropTypes\n\nvar Picker = React.createClass({displayName: 'Picker',\n\n  propTypes: {\n    onChange : Types.func.isRequired,\n    onExit   : Types.func.isRequired,\n    onSearch : Types.func.isRequired\n  },\n\n  getDefaultProps:function() {\n    return {\n      items  : [],\n      picked : false\n    }\n  },\n\n  getInitialState:function() {\n    return {\n      picked: this.props.picked\n    }\n  },\n\n  confirm:function() {\n    this.props.onChange(this.state.picked)\n    this.props.onExit()\n  },\n\n  cancel:function() {\n    this.props.onExit()\n  },\n\n  getError:function() {\n    var error = this.props.error\n\n    return error ? (\n      React.createElement(\"p\", {className: \"ars-error\"}, error )\n    ) : null\n  },\n\n  render:function() {\n    var $__0=        this.props,error=$__0.error,items=$__0.items,onSearch=$__0.onSearch,onChange=$__0.onChange,search=$__0.search\n\n    return (\n      React.createElement(Dialog, {onExit:  this.props.onExit}, \n\n        React.createElement(\"header\", {className: \"ars-dialog-header\"}, \n          React.createElement(\"h1\", {className: \"ars-dialog-title\"}, \"Please select a photo\"), \n          React.createElement(Search, {key: \"search\", onChange: onSearch })\n        ), \n\n         this.getError(), \n\n        React.createElement(Gallery, {items: items, picked:  this.state.picked, onPicked:  this._onPicked, onKeyDown:  this._onKeyDown}), \n\n        React.createElement(\"footer\", {className: \"ars-dialog-footer\"}, \n          React.createElement(Button, {onClick:  this.props.onExit}, \"Cancel\"), \n          React.createElement(Button, {onClick:  this._onConfirm, raised: true}, \"Okay\")\n        )\n\n      )\n    )\n  },\n\n  _onPicked:function(picked) {\n    this.setState({ picked:picked })\n  },\n\n  _onCancel:function(e) {\n    e.preventDefault()\n    this.cancel()\n  },\n\n  _onConfirm:function(e) {\n    e.preventDefault()\n    this.confirm()\n  },\n\n  _onKeyDown:function(e) {\n    if (e.key === 'Enter' && (e.metaKey || e.ctrlKey)) {\n      this.confirm()\n    }\n  }\n\n})\n\nmodule.exports = Picker\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/picker.js\n ** module id = 10\n ** module chunks = 0\n **/","/**\n * Search\n */\n\nvar React    = require('react')\nvar Types    = React.PropTypes\nvar UniqueID = require('../mixins/uniqueId')\n\n// The minimum number of characters before searching\nvar THRESHOLD = 2\n\nvar Search = React.createClass({displayName: 'Search',\n\n  mixins: [ UniqueID ],\n\n  propTypes: {\n    onChange : Types.func.isRequired\n  },\n\n  render:function() {\n    var id = \"ars_search_\" + this.state.id\n\n    return (\n      React.createElement(\"div\", {className: \"ars-search\"}, \n        React.createElement(\"label\", {className: \"ars-search-label\", htmlFor: id }, \"Search\"), \n        React.createElement(\"input\", {id: id, ref: \"input\", type: \"search\", className: \"ars-search-input\", onChange:  this._onChange, placeholder: \"Search\"})\n      )\n    )\n  },\n\n  _onChange:function(e) {\n    var query  = this.refs.input.getDOMNode().value || ''\n    var result = query.length >= THRESHOLD ? query : ''\n\n    this.props.onChange(result)\n  }\n\n})\n\nmodule.exports = Search\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/search.js\n ** module id = 11\n ** module chunks = 0\n **/","/**\n * Selection\n */\n\nvar Button = require('./ui/button')\nvar Image  = require('./ui/image')\nvar React  = require('react')\n\nvar SHOULD_SELECT = 'Select an image'\nvar PICK_ANOTHER  = 'Choose another image'\n\nvar Selection = React.createClass({displayName: 'Selection',\n\n  getPhoto:function() {\n    var $__0=     this.props.photo,caption=$__0.caption,url=$__0.url\n\n    return (\n      React.createElement(Image, {className: \"ars-selection-photo\", alt: caption, src: url })\n    )\n  },\n\n  render:function() {\n    var hasPhoto = this.props.photo\n\n    return (\n      React.createElement(Button, {className: \"ars-selection\", onClick:  this._onClick}, \n         hasPhoto && this.getPhoto(), \n\n        React.createElement(\"span\", {className: \"ars-selection-caption\"}, \n           hasPhoto ? PICK_ANOTHER : SHOULD_SELECT\n        )\n      )\n    )\n  },\n\n  _onClick:function(e) {\n    e.preventDefault()\n    this.props.onClick(e)\n  }\n\n})\n\nmodule.exports = Selection\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/selection.js\n ** module id = 12\n ** module chunks = 0\n **/","/**\n * Dialog\n * A reuseable modal\n */\n\nvar Focus = require('../../mixins/focus')\nvar React = require('react')\n\nvar Types = React.PropTypes\n\nvar Dialog = React.createClass({displayName: 'Dialog',\n\n  mixins: [ Focus ],\n\n  propTypes: {\n    onExit : Types.func.isRequired,\n  },\n\n  render:function() {\n    return (\n      React.createElement(\"div\", {className: \"ars-dialog\", tabIndex: \"0\", role: \"dialog\", onKeyUp:  this._onKeyUp}, \n\n        React.createElement(\"div\", {className: \"ars-dialog-blackout\", 'aria-hidden': true, onClick:  this.props.onExit}), \n\n        React.createElement(\"section\", {className: \"ars-dialog-inner\"}, \n           this.props.children\n        )\n\n      )\n    )\n  },\n\n  _onKeyUp:function(e) {\n    if (e.key === 'Escape') {\n      this.props.onExit()\n    }\n  }\n\n})\n\nmodule.exports = Dialog\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/ui/dialog.js\n ** module id = 13\n ** module chunks = 0\n **/","/**\n * Focus\n *\n * For accessibility, this mixin focuses on mount and returns focus\n * when it is unmounted\n */\n\nmodule.exports = {\n\n  _pushFocus:function() {\n    this.setState({\n      previousFocus: document.activeElement\n    })\n\n    this.getDOMNode().focus()\n  },\n\n  _popFocus:function() {\n    if (this.state.previousFocus) {\n      this.state.previousFocus.focus()\n      this._clearTrap()\n    }\n  },\n\n  // trap keyboard focus within modal\n  // via http://www.nczonline.net/blog/2013/02/12/making-an-accessible-dialog-box/\n  _trapFocus:function() {\n    this._focusTimer = setTimeout(function(_)  {return this.getDOMNode().focus();}.bind(this), 10)\n  },\n\n  _clearTrap: function() {\n    clearTimeout(this._focusTimer);\n  },\n\n  componentDidMount:function() {\n    var el = this.getDOMNode()\n\n    el.addEventListener('focusin', this._clearTrap);\n    el.addEventListener('focusout', this._trapFocus);\n\n    this._pushFocus()\n  },\n\n  componentWillUnmount:function() {\n    var el = this.getDOMNode()\n\n    this._popFocus()\n\n    el.removeEventListener('focusin', this._clearTrap);\n    el.removeEventListener('focusout', this._trapFocus);\n  }\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/mixins/focus.js\n ** module id = 14\n ** module chunks = 0\n **/","/**\n * Sync Mixin\n * Encapsulates data operations required for retrieving photos\n */\n\nvar Photo = require('../stores/photo')\nvar Types = require('react').PropTypes\n\nmodule.exports = {\n\n  propTypes: {\n    onFetch : Types.func\n  },\n\n  getDefaultProps:function() {\n    return {\n      onFetch : function(data)  {return data;}\n    }\n  },\n\n  getInitialState:function() {\n    return {\n      items : [],\n      error : false\n    }\n  },\n\n  componentWillMount:function() {\n    Photo.fetch(this.props.url, this.responseDidSucceed, this.responseDidFail)\n  },\n\n  responseDidSucceed:function(raw) {\n    var items = this.props.onFetch(raw)\n\n    this.setState({ items:items, error: false })\n  },\n\n  responseDidFail:function(error) {\n    this.setState({ error:error })\n  }\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/mixins/sync.js\n ** module id = 15\n ** module chunks = 0\n **/","/**\n * UniqueID\n * Provides a unique identifier for components\n */\n\nvar _id = 0\n\nmodule.exports = {\n\n  getInitialState:function() {\n    return {\n      id: 'c' + _id++\n    }\n  }\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/mixins/uniqueId.js\n ** module id = 16\n ** module chunks = 0\n **/","// Polyfill Object.assign for splat arguments\nif (!Object.assign) {\n  Object.assign = require('object-assign');\n}\n\n// Polyfill Array.prototype.find for easy record retrieval\nrequire('array.prototype.find')\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/patch.js\n ** module id = 17\n ** module chunks = 0\n **/","'use strict';\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = Object.keys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 18\n ** module chunks = 0\n **/","var window = require(\"global/window\")\nvar once = require(\"once\")\nvar parseHeaders = require('parse-headers')\n\nvar messages = {\n    \"0\": \"Internal XMLHttpRequest Error\",\n    \"4\": \"4xx Client Error\",\n    \"5\": \"5xx Server Error\"\n}\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    callback = once(callback)\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new XDR()\n        }else{\n            xhr = new XHR()\n        }\n    }\n\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var key\n    var load = options.response ? loadResponse : loadXhr\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Accept\"] = \"application/json\"\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"Content-Type\"] = \"application/json\"\n            body = JSON.stringify(options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = load\n    xhr.onerror = error\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    // hate IE\n    xhr.ontimeout = noop\n    xhr.open(method, uri, !sync)\n                                    //backward compatibility\n    if (options.withCredentials || (options.cors && options.withCredentials !== false)) {\n        xhr.withCredentials = true\n    }\n\n    // Cannot set timeout with sync request\n    if (!sync) {\n        xhr.timeout = \"timeout\" in options ? options.timeout : 5000\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n    \n    if (\"beforeSend\" in options && \n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            load()\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = null\n\n        if (xhr.response) {\n            body = xhr.response\n        } else if (xhr.responseType === 'text' || !xhr.responseType) {\n            body = xhr.responseText || xhr.responseXML\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function getStatusCode() {\n        return xhr.status === 1223 ? 204 : xhr.status\n    }\n\n    // if we're getting a none-ok statusCode, build & return an error\n    function errorFromStatusCode(status) {\n        var error = null\n        if (status === 0 || (status >= 400 && status < 600)) {\n            var message = (typeof body === \"string\" ? body : false) ||\n                messages[String(status).charAt(0)]\n            error = new Error(message)\n            error.statusCode = status\n        }\n\n        return error\n    }\n\n    // will load the data & process the response in a special response object\n    function loadResponse() {\n        var status = getStatusCode()\n        var error = errorFromStatusCode(status)\n        var response = {\n            body: getBody(),\n            statusCode: status,\n            statusText: xhr.statusText,\n            raw: xhr\n        }\n        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n            response.headers = parseHeaders(xhr.getAllResponseHeaders())\n        } else {\n            response.headers = {}\n        }\n\n        callback(error, response, response.body)\n    }\n\n    // will load the data and add some response properties to the source xhr\n    // and then respond with that\n    function loadXhr() {\n        var status = getStatusCode()\n        var error = errorFromStatusCode(status)\n\n        xhr.status = xhr.statusCode = status\n        xhr.body = getBody()\n        xhr.headers = parseHeaders(xhr.getAllResponseHeaders())\n\n        callback(error, xhr, xhr.body)\n    }\n\n    function error(evt) {\n        callback(evt, xhr)\n    }\n}\n\n\nfunction noop() {}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/index.js\n ** module id = 19\n ** module chunks = 0\n **/","if (typeof window !== \"undefined\") {\n    module.exports = window;\n} else if (typeof global !== \"undefined\") {\n    module.exports = global;\n} else if (typeof self !== \"undefined\"){\n    module.exports = self;\n} else {\n    module.exports = {};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/global/window.js\n ** module id = 20\n ** module chunks = 0\n **/","module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/once/once.js\n ** module id = 21\n ** module chunks = 0\n **/","var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/parse-headers/~/for-each/index.js\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/parse-headers/~/for-each/~/is-function/index.js\n ** module id = 23\n ** module chunks = 0\n **/","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/parse-headers/~/trim/index.js\n ** module id = 24\n ** module chunks = 0\n **/","var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/parse-headers/parse-headers.js\n ** module id = 25\n ** module chunks = 0\n **/"],"sourceRoot":""}